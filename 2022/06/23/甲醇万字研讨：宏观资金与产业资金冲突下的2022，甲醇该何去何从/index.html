<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">
<meta name="keywords" content="甲醇">
<meta property="og:type" content="article">
<meta property="og:title" content="甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从?">
<meta property="og:url" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/index.html">
<meta property="og:site_name" content="车斌的技术博客">
<meta property="og:description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/1.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/2.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/3.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/4.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/5.jpeg">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/6.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/7.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/8.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/9.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/10.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/11.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/12.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/13.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/14.png">
<meta property="og:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/15.png">
<meta property="og:updated_time" content="2022-07-12T07:36:43.083Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从?">
<meta name="twitter:description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">
<meta name="twitter:image" content="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/1.png">






  <link rel="canonical" href="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从? | 车斌的技术博客</title><meta name="robots" content="noindex">
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">车斌的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">放弃会成为一种习惯</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CheBin">
      <meta itemprop="description" content="看视频才能学会，看文字学不会的">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="车斌的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从?

              
            
          </h1>
        

        <div class="post-meta">

          

          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2022-06-23 19:41:57" itemprop="dateCreated datePublished" datetime="2022-06-23T19:41:57+08:00">2022-06-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2022-07-12 15:36:43" itemprop="dateModified" datetime="2022-07-12T15:36:43+08:00">2022-07-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/期货/" itemprop="url" rel="index"><span itemprop="name">期货</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">5k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">5 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>思考并回答以下问题：</p>
<ul>
<li>总结一下，这章作者最主要想表达什么观点？</li>
</ul>
<a id="more"></a>
<blockquote>
<p>2022-02-15 18:04</p>
</blockquote>
<p>目前甲醇内地现货暂时没有大幅上涨或者下跌的驱动，难以上涨是因为下游需求短期比较乏力，以及国家政策对于煤炭的打压，难以下跌的驱动是由于煤炭价格过高，内地的生产成本较高，利润太差，继续顶着亏损的情况下跌价去库不太现实。</p>
<p>本文试着通过从宏观视角到产业视角，对2022年的甲醇未来行情做一个细致的展望。</p>
<h1 id="甲醇的基础知识"><a href="#甲醇的基础知识" class="headerlink" title="甲醇的基础知识"></a><span style="color:#339AFF;">甲醇的基础知识</span></h1><h2 id="甲醇产业链"><a href="#甲醇产业链" class="headerlink" title="甲醇产业链"></a><span style="color:#00ACC1;">甲醇产业链</span></h2><p>甲醇的上游原料包括<strong>煤炭（70%左右）、焦炉气（10%左右）和天然气（20%左右）</strong>，下游产品包括传统下游<strong>甲醛、醋酸、二甲醚、MTBE</strong>等，也包括新兴下游<strong>煤/甲醇制烯烃（CTO/MTO）、醇醚燃料</strong>等。</p>
<p>甲醇行业发展成熟度高，下游结构丰富，市场化程度较高，外加具有期货产品，所以市场参与群体广泛。近年来，由于供应增速大于需求增速，所以无论是全球还是中国，甲醇一直存在过剩的压力。随着2021年碳中和政策出台，甲醇新增产能逐步减少，未来有望逐步去产能的节奏。</p>
<h2 id="全球甲醇供需概览"><a href="#全球甲醇供需概览" class="headerlink" title="全球甲醇供需概览"></a><span style="color:#00ACC1;">全球甲醇供需概览</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/1.png">
<p>从全球范围来看，主要甲醇的消费地是<strong>东北亚（以中国为主）、北美、西欧、印度、东南亚。</strong>全球甲醇物流流向主要是从<strong>中东、南美、俄罗斯、新西兰、东南亚等</strong>主要甲醇出口国，流向甲醇主要消费地。除此以外，北美的产能大幅增加，部分北美甲醇出口至欧洲和韩国等地。</p>
<p>中国是甲醇第一进口大国，2019年中国甲醇进口量突破<span style="color:red">1000万</span>吨，并呈逐年增加趋势。</p>
<p>全球甲醇（除中国）下游以<strong>甲醛、二甲醚、醋酸和MTBE</strong>等传统下游为主。中国甲醇下游分为新兴下游和传统下游，新兴下游包括煤制烯烃和甲醇燃料，煤制烯烃近年来成为了中国甲醇主要下游，占比达50%以上。</p>
<h2 id="中国甲醇进口"><a href="#中国甲醇进口" class="headerlink" title="中国甲醇进口"></a><span style="color:#00ACC1;">中国甲醇进口</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/2.png">
<p>从10年开始还是在500多万吨，随后往年一直是在增加的，包括到20年也一直在增加。</p>
<p>因为这几年海外一直处于投产周期，所以投放了这么多甲醇的产能，别的地方基本消耗不掉。但是当时尤其是在17、18年，甲醇下游应该是一个投产周期，所以导致进口的不断增加。当时国内也没有投放太多的甲醇产能，所以当时甲醇也是一直走了一个牛市的格局。</p>
<h2 id="2021年进口分布"><a href="#2021年进口分布" class="headerlink" title="2021年进口分布"></a><span style="color:#00ACC1;">2021年进口分布</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/3.png">
<p>整体2021年进口分布大部分还是以中东这边比较多，其他国家产能比较小，所以进口的比较少。很多朋友可能问<span style="color:red">21年甲醇的进口量比20年少了这么多原因是什么</span>，其实我觉得最主要的一个原因还是<span style="color:red">内外价差</span>的问题。</p>
<p>从20年疫情之后，美国开始放水，导致国外大宗资产商品价格出现膨胀。膨胀之后国外的价格一直在不断往上涨，包括天然气的价格上涨导致甲醇成本上涨。所以基本上外盘的价格从21年年初以后，国外的价格比较高，当时国内的价格还是比较便宜，所以导致内外价差倒挂比较严重。</p>
<h2 id="甲醇产能"><a href="#甲醇产能" class="headerlink" title="甲醇产能"></a><span style="color:#00ACC1;">甲醇产能</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/4.png">
<p>甲醇产能刚才也说了，<span style="color:red">西北</span>目前占比还是比较大的。很多人看甲醇该看哪里的价格？首先我觉得大家需要关注的两个点：</p>
<p>一个是<span style="color:red">西北的甲醇价格</span>。因为西北的甲醇产量是比较大的，在国内具有绝对的定价权，包括一些装置都在西北这边，所以很多人是包括我们产业里的很多人都一直在关注西北的价格；</p>
<p>再一个就是看<span style="color:red">华东价格</span>，因为华东是下游消费地，具有绝大的一个定价权，包括甲醇期货的交割地还有交割价格还有包括交割仓库也都是在华东，所以这个期货也是以华东的一个菜仓价格为定价标准。</p>
<p>目前是整体这么个情况，西北价格如果出现大幅上涨的时候，因为它的产能比较大，它的产量也比较大，一旦它的产量出现一个大幅的降低的话，像这个西南，他们的价格他们能不涨吗？即使说当地的区域性供给矛盾比较突出，还是无法影响西北的一个问题。</p>
<h2 id="2022年甲醇-amp-MTO新增产能"><a href="#2022年甲醇-amp-MTO新增产能" class="headerlink" title="2022年甲醇&amp;MTO新增产能"></a><span style="color:#00ACC1;">2022年甲醇&amp;MTO新增产能</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/5.jpeg">
<p>甲醇2022年其实增的倒不是特别多，包括现在也有的已经开撤了，现在整体也没有一个很大产能，暂时整体和往年相比投产的产能还是偏少。</p>
<p>再一个<strong>MTO</strong>的产能还是比较多的，目前影响这个比较大的还是国化60万吨的MTO，因为它需要配套180万吨的甲醇，而这套装置一直是需要外采的，但是从去年一直推迟到今年，今年能不能开起来后边还需要再看。</p>
<p>这是22年的甲醛和烯烃的产能增加问题。</p>
<h2 id="国内贸易的流向"><a href="#国内贸易的流向" class="headerlink" title="国内贸易的流向"></a><span style="color:#00ACC1;">国内贸易的流向</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/6.png">
<p>因为甲醇主产区在<span style="color:red">西北</span>，就是<strong>新疆、青海、内蒙、陕西、山西还有甘肃</strong>这边，它下游的消费地就比较偏<span style="color:red">沿海</span><strong>河北，山东，江苏，浙江</strong>，一般是从内地到港口。因为他们内地产能比较大，产量也多，所以价格比较便宜，基本通过汽运还有集港到天津再到港口这边，所以是从上游到下游一个贸易流向大体是这么个情况，一般就是从内蒙汽运到山东。</p>
<p>内蒙到港口路线基本就是内蒙到天津，然后机港下水之后到江苏。关中可能到湖北还有河南也是比较多的，重庆四川有可能船货发船，现在运费就200左右到港口。新疆到港口因为路途比较遥远，所以就会出现一个价格的波动。</p>
<p>船货进口一般到这个江苏这边，因为江苏这边也有太仓，还有大部分都是码头。广东基本就是华南这边，暂时是这么个情况。</p>
<h2 id="甲醇消费占比"><a href="#甲醇消费占比" class="headerlink" title="甲醇消费占比"></a><span style="color:#00ACC1;">甲醇消费占比</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/7.png">
<p>2014年甲醇的主要需求仍集中在传统下游当中，传统下游消费占比超过<span style="color:red">50%</span>。目前国内甲醇市场最大的下游是<span style="color:red">煤/甲醇制烯烃</span>，<strong>烯烃行业自2010年开始发展，对于拉动甲醇市场的消费起到了重要的贡献。</strong></p>
<p>内地煤/甲醇制烯烃企业大部分分布在西北地区，基本都是从煤开始，以CTO工艺自配煤制甲醇装置为主，基本遵循<strong>煤→甲醇→乙烯和丙烯→PE和PP</strong>工艺路线。例如CTO外采甲醇：中煤蒙大、久泰能源、陕西神华榆林等烯烃企业。</p>
<p>随着21年碳中和政策实施，导致甲醇装置降负荷，在烯烃装置不出现降负荷的情况下，CTO装置肯定需要外采甲醛，那进一步一直从其他的身边企业去外采甲醇。CTO和MTO出现的还有一个区别就是装置属于比较老的老的一些装置，MTO还是属于比较新的一些装置。</p>
<p>港口甲醇制烯经企业大部分在华东地区，基本以外采甲醇作为原料，例如：<a href="https://www.chengzhinj.com/" target="_blank" rel="noopener">南京诚志</a>、<a href="http://www.shenghonggroup.cn/" target="_blank" rel="noopener">盛虹</a>、宁波富德、兴兴等烯烃企业。</p>
<h2 id="国内价格"><a href="#国内价格" class="headerlink" title="国内价格"></a><span style="color:#00ACC1;">国内价格</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/8.png">
<p>甲醇价格区间一般在<span style="color:red">1500-3500</span>之间，基本上历史上很少出现3500，18年8月份的时候出现过一次，再就是去年因为碳中和政策导致煤炭大幅度上涨出现过一次。</p>
<p>国内价格9月下旬进入快速上涨期，一方面国庆节前下游抓紧补货，另一方面华东限电。部分甲醇库区暂停外运，短期供需错配。</p>
<p>受国庆节期间欧洲天然气暴涨影响，节后甲醇煤制成本及进口成本大幅上涨，推动国内甲醇价格大幅上行。</p>
<p>随着价格持续高位，甲醇供需转弱，沿海价格10月中旬出现阶段性拐点，但内地价格维持高位。</p>
<p>目前甲醇价格已创08年以来新高，节后内地逐渐升水沿海。</p>
<h1 id="甲醛基本数据"><a href="#甲醛基本数据" class="headerlink" title="甲醛基本数据"></a><span style="color:#339AFF;">甲醛基本数据</span></h1><h2 id="开工率"><a href="#开工率" class="headerlink" title="开工率"></a><span style="color:#00ACC1;">开工率</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/9.png">
<p>目前整体开工率还是偏高，现在随着煤炭成本的坍塌，导致这个甲醇装置测试利润出现一个回升。</p>
<h2 id="进口总量"><a href="#进口总量" class="headerlink" title="进口总量"></a><span style="color:#00ACC1;">进口总量</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/10.png">
<p>进口利润还是我刚才所说的<span style="color:red">国内价格和国外价格的价差倒挂问题</span>。因为现在外盘价格还是比较高，国内价格一直受政策打压导致价格一直没涨起来，涨起来的话，进口利润基本还是处于一个亏损的状态。</p>
<p>非伊进口利润除了伊朗这边可能亏得比较厉害，因为他们没有伊朗产能大，价格更高，所以折合到国内的价格还是一个更便宜的状态。</p>
<p>刚才我也说了，中东像伊朗货还有非伊货，他们虽然最终的流向消费大头在国内，但是像东南亚还有其他一些小地方，包括韩国、日本，它都是有一些需求的，但是需求没有中国这么大，但是他们一个月几万吨的量还是可以的。所以如果国外的船货到国内什么利润的情况下，他们的一部分船货可能就会去利润最大化的这个地方，比如说去东南亚，韩国，日本这种情况。</p>
<p>目前来看中国到东南亚的价差还是在70美金左右，但是我们现在运费应该是在50-60，50的话可能就不好找船。</p>
<h2 id="MTO开工情况"><a href="#MTO开工情况" class="headerlink" title="MTO开工情况"></a><span style="color:#00ACC1;">MTO开工情况</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/11.png">
<p>现在基本没有什么一个很大的变动。传统下最近开工率比较低的一个原因，还是因为<span style="color:red">冬奥会</span>的现场导致开工下滑。然后这个<strong>传统下游需求短期也是比较弱</strong>，尤其是河北,像山东、鲁北还有鲁南的一个问题，需求还是比较弱因为他们开工下滑确实比较厉害。</p>
<h2 id="进口库存情况"><a href="#进口库存情况" class="headerlink" title="进口库存情况"></a><span style="color:#00ACC1;">进口库存情况</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/12.png">
<p>据相关数据统计，库存<span style="color:red">80-81</span>万吨左右，这个数据统计会有一些偏差。</p>
<p><strong>整体库存过完年之后还是累库的状态</strong>，因为春节下游萎缩，需求还是太差，包括最近我了解到港口这下游还有内地山东这边华北的下游需求确实太差，所以导致说偏累库，但是整体的话累库幅度不是特别大。</p>
<p><strong>可流通库存偏低，是在20-25-万吨之间。</strong>可流通库存已经是属于<span style="color:red">中性偏低</span>的一个情况。可流通库存在10万吨左右的时候，基本历史上都很少出现，可能因为每年大家从这个图表可以看出，每年11月份、12月份港口都是去库的，这是因为每年冬天，伊朗那边要限期，那么它产量是要降低，降低的话你未来船货到国内肯定是要减少的，减少的话港口库存肯定是形成一个去库的状态，这是这个库存的一个情况。</p>
<h2 id="内地库存"><a href="#内地库存" class="headerlink" title="内地库存"></a><span style="color:#00ACC1;">内地库存</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/13.png">
<p>一般春节后，因为内地春节前会提前排库，排完库会把库存清到尽量低位的一个情况过春节，然后在春节期间他就会累库。所以春节后正常情况下，带着库存回来，就是一个累多累少的问题。</p>
<p><strong>今年整体上库存回来不是特别多</strong>，虽然也有点累库，但是也是属于一个中性。包括最近上游一些库存也是在中性的库存，个别小的装置可能库存比较高，整体这是一个内地库存的一个情况。</p>
<h2 id="太仓基差情况"><a href="#太仓基差情况" class="headerlink" title="太仓基差情况"></a><span style="color:#00ACC1;">太仓基差情况</span></h2><img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/14.png">
<h1 id="甲醇未来行情展望"><a href="#甲醇未来行情展望" class="headerlink" title="甲醇未来行情展望"></a><span style="color:#339AFF;">甲醇未来行情展望</span></h1><p><span style="color:red">宏观背景</span>：<strong>目前宏观整体还是偏强为主</strong>，主因是国外的通货膨胀依然持续，导致国外的资产价格不断上涨，尤其是以原油为首的化工产品继续暴涨，从国外资产来看典型的滞胀，是一种恶性通胀，没理由的涨。</p>
<p>放水解决不了经济问题，只能掩盖，经济复苏慢，通胀继续走，带来的恶性通胀的结果，就是滞涨。那不行，就加息，加息债务又要怎么解决，也没法解决。那就等死，这也是2022年大家都担心的一点。</p>
<p>但是国内盘面看的是估值价格。<strong>上一波在原油带动下把国内估值抬高，随后在政策打压下打回原形。</strong></p>
<p>关于<span style="color:red">通胀</span>短期仍然难以缓解，这些天很有意思，美联储一说加息，美股就崩盘，表示你敢加我就不活了，但是通过鹰派的讲话确定一点是，加息是必然的，关键点是美联储是否提前加息以及3月加息多少的问题，一旦迟迟不加息或者加息不及预期，没有达到大家的心理预期，国外资产价格会继续通胀。对于国内而言，大的政策方向依旧是稳预期、稳货币，通过社融可以看出，央行持续往市场中释放大量的货币，所以长期来看，宏观的政策丝毫没有转变的意思。</p>
<p><span style="color:red">供应</span>：目前国内甲醇开工整体偏高，随着每年的春季检修到来，<strong>甲醇供应未来呈现下滑趋势</strong>，因目前上游生产企业利润亏损，可能提前检修。</p>
<p><span style="color:red">需求</span>：传统下游目前因冬奥会影响较大，<strong>未来随着冬奥会结束，下游库存偏低的状态下，后期仍有需求新增存在。</strong>新型下游烯烃开工较高，年前的上涨并没有过多补库，不排除未来补库的可能！</p>
<p><span style="color:red">价差</span>：港口方面，目前现货贴水盘面，基差在20-30左右。内地与港口价差在680左右，内地与港口套利窗口打开，因物流车辆问题，内地货难以冲击港口。</p>
<p><span style="color:red">上游利润</span>：目前上游的煤制甲醇生产企业现金流成本大概在2300左右，由于高硫煤价格过高，企业亏损较大，不排除未来降负荷的驱动。气头目前利润尚可。</p>
<p><span style="color:red">下游利润</span>：以目前现货价格为标的情况下，内陆CTO利润在600以上，港口MTO利润在200左右的情况，个别烯烃装置因其他附属产品价格过高，利润可能更高。随着甲醇价格短期大幅下跌，烯烃装置的利润出现明显的回升。</p>
<p><span style="color:red">利多</span>：<strong>国外继续通胀。</strong>国内宏观未来依旧是稳货币、稳预期。上游的春季检修。上游生产企业的亏损。烯烃利润恢复之后的补库。传统下游在冬奥会结束后的补库。</p>
<p><span style="color:red">利空</span>：<strong>政策不断打压以煤炭为原料的产品。</strong>成本坍塌。解除碳中和政策对于煤化工的限制。<strong>下游需求萎缩严重。进口未来超预期增加。</strong></p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a><span style="color:#339AFF;">总结</span></h1><ul>
<li>目前内地现货暂时没有大幅上涨或者下跌的驱动，难以上涨是因为下游需求短期比较乏力，以及国家政策对于煤炭的打压，难以下跌的驱动是由于煤炭价格过高，内地的生产成本较高，利润太差，继续顶着亏损的情况下跌价去库不太现实。</li>
<li>而甲醇价格过低之后，给予下游烯烃一定的利润，所以未来可能存在下游烯烃补库的可能，随着冬奥会结束，传统下游逐步恢复，增加新存需求。</li>
<li>所以整体结构来看上涨或者下跌驱动暂不明显。港口现货未来暂时没有新的变量，因进口偏低情况下，还是跟随内地波动，在港口自身驱动力不强的情况下，定价权还是以内地为主。</li>
<li>未来上游随着春检落地，下游需求逐步恢复的情况下，库存由上游转移到下游，呈现上游去库的过程，弱现实逐步向强预期转变的情况下，大方向依旧是震荡偏强对待。</li>
</ul>
<img src="/2022/06/23/甲醇万字研讨：宏观资金与产业资金冲突下的2022，甲醇该何去何从/15.png"><!-- flag of hidden posts -->
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/甲醇/" rel="tag"># 甲醇</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="CheBin">
            
              <p class="site-author-name" itemprop="name">CheBin</p>
              <div class="site-description motion-element" itemprop="description">看视频才能学会，看文字学不会的</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">1017</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">23</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">72</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          


          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <!-- modify icon to fire by szw -->
                <i class="fa fa-history fa-" aria-hidden="true"></i>
                近期文章
              </div>
              <ul class="links-of-blogroll-list">
                
                
                  <li>
                    <a href="/2023/04/04/结束语｜秒杀系统之上的业务协同思考/" title="结束语｜秒杀系统之上的业务协同思考" target="_blank">结束语｜秒杀系统之上的业务协同思考</a>
                  </li>
                
                  <li>
                    <a href="/2023/04/04/14｜百万级流量秒杀系统的关键总结/" title="14｜百万级流量秒杀系统的关键总结" target="_blank">14｜百万级流量秒杀系统的关键总结</a>
                  </li>
                
                  <li>
                    <a href="/2023/04/04/13｜优化番外篇：Vertx介绍及快速入门/" title="13｜优化番外篇：Vertx介绍及快速入门" target="_blank">13｜优化番外篇：Vertx介绍及快速入门</a>
                  </li>
                
                  <li>
                    <a href="/2023/04/04/12｜高性能优化：单机Java极致优化/" title="12｜高性能优化：单机Java极致优化" target="_blank">12｜高性能优化：单机Java极致优化</a>
                  </li>
                
                  <li>
                    <a href="/2023/04/04/11｜高性能优化：物理机极致优化/" title="11｜高性能优化：物理机极致优化" target="_blank">11｜高性能优化：物理机极致优化</a>
                  </li>
                
              </ul>
            </div>
        

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#甲醇的基础知识"><span class="nav-number">1.</span> <span class="nav-text">甲醇的基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#甲醇产业链"><span class="nav-number">1.1.</span> <span class="nav-text">甲醇产业链</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全球甲醇供需概览"><span class="nav-number">1.2.</span> <span class="nav-text">全球甲醇供需概览</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#中国甲醇进口"><span class="nav-number">1.3.</span> <span class="nav-text">中国甲醇进口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2021年进口分布"><span class="nav-number">1.4.</span> <span class="nav-text">2021年进口分布</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#甲醇产能"><span class="nav-number">1.5.</span> <span class="nav-text">甲醇产能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2022年甲醇-amp-MTO新增产能"><span class="nav-number">1.6.</span> <span class="nav-text">2022年甲醇&amp;MTO新增产能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#国内贸易的流向"><span class="nav-number">1.7.</span> <span class="nav-text">国内贸易的流向</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#甲醇消费占比"><span class="nav-number">1.8.</span> <span class="nav-text">甲醇消费占比</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#国内价格"><span class="nav-number">1.9.</span> <span class="nav-text">国内价格</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#甲醛基本数据"><span class="nav-number">2.</span> <span class="nav-text">甲醛基本数据</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#开工率"><span class="nav-number">2.1.</span> <span class="nav-text">开工率</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进口总量"><span class="nav-number">2.2.</span> <span class="nav-text">进口总量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MTO开工情况"><span class="nav-number">2.3.</span> <span class="nav-text">MTO开工情况</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进口库存情况"><span class="nav-number">2.4.</span> <span class="nav-text">进口库存情况</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内地库存"><span class="nav-number">2.5.</span> <span class="nav-text">内地库存</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#太仓基差情况"><span class="nav-number">2.6.</span> <span class="nav-text">太仓基差情况</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#甲醇未来行情展望"><span class="nav-number">3.</span> <span class="nav-text">甲醇未来行情展望</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#总结"><span class="nav-number">4.</span> <span class="nav-text">总结</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2023</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CheBin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">8.2m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">124:48</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
