<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">
<meta name="keywords" content="发现价格：期货和金融衍生品">
<meta property="og:type" content="article">
<meta property="og:title" content="第七章-国际惯例：中央对手方清算">
<meta property="og:url" content="http://yoursite.com/2022/02/15/第七章-国际惯例：中央对手方清算/index.html">
<meta property="og:site_name" content="车斌的技术博客">
<meta property="og:description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2022-05-05T08:44:44.058Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第七章-国际惯例：中央对手方清算">
<meta name="twitter:description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">






  <link rel="canonical" href="http://yoursite.com/2022/02/15/第七章-国际惯例：中央对手方清算/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>第七章-国际惯例：中央对手方清算 | 车斌的技术博客</title><meta name="robots" content="noindex">
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">车斌的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">专注</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/02/15/第七章-国际惯例：中央对手方清算/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CheBin">
      <meta itemprop="description" content="强迫自己去看，去做。">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="车斌的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">第七章-国际惯例：中央对手方清算

              
            
          </h1>
        

        <div class="post-meta">

          

          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2022-02-15 09:21:02" itemprop="dateCreated datePublished" datetime="2022-02-15T09:21:02+08:00">2022-02-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2022-05-05 16:44:44" itemprop="dateModified" datetime="2022-05-05T16:44:44+08:00">2022-05-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/期货居间人/" itemprop="url" rel="index"><span itemprop="name">期货居间人</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">31k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">28 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>思考并回答以下问题：</p>
<ul>
<li>总结一下，这章作者最主要想表达什么观点？</li>
</ul>
<a id="more"></a>
<p>“有了我们，伦敦夜里才能安眠。”</p>
<p>伦敦清算所的人如此自豪地描述他们在金融世界中的角色。确实，从全球期货市场的发展历史看，其得以安全运行并越来越兴旺发达，最根本的保障在于建立了中央对手方清算制度。成熟市场国家的期货市场中央对手方都有明确的法律地位，这已成为国际惯例。</p>
<p>中央对手方作为期货市场的一项基本制度，在2008年国际金融危机中表现出色，受到国际社会的高度重视。2009年G20匹兹堡首脑峰会上各国领导人承诺，要在场外衍生品市场上推行中央对手方清算制度。这次危机，使得全球政治领导人第一次清楚地看到中央对手方清算制度对于防范和化解金融风险的巨大作用。</p>
<h1 id="一枝独秀：金融危机中的“不倒翁”"><a href="#一枝独秀：金融危机中的“不倒翁”" class="headerlink" title=" 一枝独秀：金融危机中的“不倒翁”"></a><span style="color:#339AFF;"> 一枝独秀：金融危机中的“不倒翁”</span></h1><p>英国人彼得·诺曼（Peter Norman）在其《全球风控家——中央对手方清算》一书中写道：“得力于它们强大的技术和风险管理能力，中央对手方清算所就像一个断路器那样保护着我们的金融系统，避免了2008年9月15日那场危机演变为全球经济整体崩溃。”他进一步评论说：“有些制度，在危机时人们才发现它的重要作用，比如中央对手方清算制度。”此话不虚，2008年美国发生金融危机并迅速席卷全球，场外衍生品市场哀鸿遍野、风声鹤唳，市场参与者人人自危，信心丧失殆尽，流动性迅速枯竭。而期货市场依旧保持着正常、有序的运转，一枝独秀，成为金融危机中的“不倒翁”。为什么？这主要归功于期货市场建立多年的中央对手方清算制度。可以说，中央对手方清算制度是金融市场防范系统性风险的重器，是牢牢守住不发生系统性风险底线的制度保障。</p>
<p>彼得在书中不惜笔墨，重彩描摹中央对手方清算制度的好处，详细论述了其对防范金融风险的重要性。这方面，雷曼破产提供了一个很好的观察案例。在期货市场上，从雷曼破产开始的2008年9月15日到23日，8天时间内，其在中央对手方清算所的风险敞口缩小了90%，剩余风险敞口也在保证金覆盖范围内。中央对手方清算制度成功管理了雷曼破产给期货市场带来的风险，较好地防范了风险的蔓延与扩散，让美国、欧洲、亚洲的期货市场安然渡过了险关。同样，在场外衍生品市场上，是否采用中央对手方清算机制对风险的化解和处置至关重要。雷曼破产后三周内，伦敦清算所按照中央对手方风险管理程序，迅速处置了雷曼持有的包括9万亿美元利率互换在内的巨额未平仓头寸，没有给其他市场主体和伦敦清算所带来任何损失。但是，雷曼持有的尚未纳入中央对手方清算机制的720亿美元信用违约互换未平仓头寸，最终给其他市场主体带来了大约52亿美元的净损失。</p>
<p>按照英格兰银行金融稳定部执行董事安德鲁·霍尔丹（Andrew Haldane）的说法，中央对手方清算制度可以有效防止金融危机蔓延，就如同疾病疫苗抑制流行病传播或森林的防火墙限制火灾蔓延那样有效。这一制度对期货和衍生品市场夯实发展基础、降低系统性风险、促进市场稳定健康发展意义重大。</p>
<h1 id="演进完善：中央对手方清算制度"><a href="#演进完善：中央对手方清算制度" class="headerlink" title="演进完善：中央对手方清算制度"></a><span style="color:#339AFF;">演进完善：中央对手方清算制度</span></h1><p>回顾西方期货市场历史，中央对手方清算制度一开始是为了抵消商品期货交易的对手方风险而发展起来的。由于期货合约实行保证金交易，具有杠杆性，资金、货物不是即时交付，交易能否最终履约主要依赖对手方的信用，而对其信用状况进行全面细致的调查，费时费力，成本高，这使交易者长期暴露在对手方违约风险之下。为了使这种高风险性的交易机制能够正常进行，历史上初具规模的期货市场都会尝试建立一些制度来确保交易的履行，以增强交易者对交易安全的信心，从而吸引更多的交易者进入市场。在这一过程中，从单纯依赖会员信用到利用交易所自身信用确保合约履行，人们逐渐发现由交易所作为所有买方的卖方和所有卖方的买方，以合约当事人身份直接承担合约义务的方式能够给交易安全提供最有力的保障，中央对手方清算制度因此逐渐被各国交易所普遍采用。当确保合约履行的任务交由独立于交易所之外的清算机构承担时，清算机构则取代交易所承担中央对手方集中履约责任。</p>
<p>追溯中央对手方清算机制的源起，18世纪30年代日本堂岛大米市场创造的清算所可谓是现代中央对手方清算所的源头。2002年春，我在参观芝加哥商业交易所大楼一楼的期货史展厅时，发现解说词中说日本堂岛大米市场是商品期货市场最早的形态，是现代期货市场的萌芽。根据专家的研究，当时日本幕府颁布了一项法令，把大阪的堂岛大米市场转变为官方交易所，规定了大米仓库的仓单或提单的交易规则，类似于现代的期货交易所规则。法令同时要求堂岛大米市场所有交易的清算必须通过清算所进行，每个交易者都要与清算所有一定的信用额度；清算所不允许用自己的账户交易，它对交易头寸收取服务费和保证金，同时承担保证合约履约的义务。当时，一共有五六十家清算所为堂岛大米市场的交易者提供清算服务。美国加利福尼亚大学圣迭哥分校的副教授乌尔丽克·舍德（Ulrike Schaede）考证了这段历史，他说：“商人在清算所清算他们的头寸就可以了，不必考虑最终对手方的商誉如何。”这些清算所通过承担交易参与者的对手方信用风险和保证交易完成，扮演了类似现代中央对手方清算所的角色。</p>
<p>1882年，商品事务清算所在法国勒阿弗尔的成立标志着一个革命性的开端——清算开始被作为一种独立的商业活动来运营和管理。为支持当地的棉花和咖啡期货市场的发展，交易商们成立了商品事务清算所，对通过其登记的合约提供担保服务。商品事务清算所与它所服务的市场密切相关，但理论上是独立的。作为一家私营有限责任公司，它从其登记并担保的合约中收费而获得收入，但不在期货合约的谈判和缔结中扮演任何角色。商品事务清算所的运作与现代的中央对手方清算有类似的效果：在登记合约时，它同时向买卖双方收取定金（相当于现代期货交易中的初始保证金）；随着买卖双方持仓盈亏的变化，它可以责令持仓亏损的一方逐日追加保证金（相当于收取变动保证金）；如果发生违约事件，它可以在不需要任何其他手续的情况下清算该违约者的全部头寸（相当于中央对手方清算所的违约处理）。与后来的中央对手方清算所不同的是，商品事务清算所在自身的章程中规定“它自身并不代替交易的对手方”，只是以交易合约之外的第三人担保合约的履行。之后，这种合约担保制度被欧洲各地成立的清算普遍采用。</p>
<p>19世纪末的美国，诞生了现代意义上的中央对手方清算制度。当时明尼阿波利斯商会（谷物交易所）决定成立一个清算所，通过确保合约的履行来提高小麦期货交易保值的机会。该清算所在章程中明确规定其是“每一个买方的卖方”和“每一个卖方的买方”，这被认为是现代中央对手方清算所的开始。之后，这一清算机制逐渐推广，芝加哥商业交易所和芝加哥期货交易所分别于1919年和1925年设立清算所，并引入了中央对手方清算制度。到20世纪80年代，随着美国人创新发明的金融期货进入欧洲，伦敦农产品清算所开始采用美国的清算机制，从商品事务清算所和其他欧洲清算所发展而来的担保机制就此终结。</p>
<p>总结下来，中央对手方清算机制破土萌芽自日本，发展成型在欧洲，改革创新于美国，并以美国模式为当今世界的主流模式。现代意义上的中央对手方机制主要指的是美国模式，成为公认的国际惯例。美国模式的中央对手方清算制度是指清算所介入金融合约交易的对手方之间，成为所有买方的卖方、卖方的买方，从而使期货合约买卖双方的对手都被替换成了作为中央对手方的清算所。按专业说法，中央对手方主要有4个功能：重新分配合约对手方风险，防止多边净额结算失败；降低结算参与人的风险；提高结算效率和资金使用效率；提高市场流动性。</p>
<h1 id="管理风险：中央对手方全球落地生根"><a href="#管理风险：中央对手方全球落地生根" class="headerlink" title="管理风险：中央对手方全球落地生根"></a><span style="color:#339AFF;">管理风险：中央对手方全球落地生根</span></h1><p>从中央对手方清算制度与期货市场发展的历史来看，中央对手方清算制度在期货市场的最终确立是必然且必要的。期货市场作为“以小博大”、实行杠杆交易的高风险市场，需要中央对手方清算制度这样能够最大限度利用期货交易所或清算所信用来确保合约履行的特殊制度。目前，世界上主流的期货交易所或清算所都采用中央对手方清算制度，包括境外市场的芝加哥商业交易所、洲际交易所，欧洲期货交易所和伦敦清算所，境内的4家期货交易所等。</p>
<p>在期货市场建立现代中央对手方清算制度近100年后，从20世纪70年代开始，美国、欧洲的证券市场如股票、债券市场开始逐步引入中央对手方清算机制。在我国证券市场上，中国证券登记结算公司对沪深交易所的股票、债券交易实行中央对手方清算制度。从世界各国证券市场看，在中央对手方清算制度的推动下，市场从缺乏生气的交易俱乐部模式蜕变成一个竞争激烈、高科技推动的行业。但是，直到2008年金融危机发生之前，中央对手方清算机制还被公认只能为标准化的产品提供服务，仍主要用于支持交易所内进行的股票、债券、期货和期权的交易。随着危机后金融监管改革的推进，这一局面和认识被彻底扭转和改变。场外衍生品市场开始大量推广中央对手方清算制度，美国、欧盟、中国等许多国家和地区的场外衍生品市场已经部分实行了这一制度。</p>
<p>从全球范围看，发端于期货市场的中央对手方清算机制，如今已经逐渐拓展到股票市场、债券市场、外汇市场以及更加复杂的场外衍生品市场上。中央对手方清算机制在全球金融市场各个主要领域的落地生根，推动了全球金融市场的发展与繁荣。据伦敦清算所的年报显示，2017年伦敦清算所共为1.47亿手的期货期权合约交易、约886万亿美元名义本金的场外衍生品交易（包括874万亿美元名义本金的利率互换交易、11.2万亿美元名义本金的外汇场外衍生品交易，以及5490亿欧元名义本金的信用违约互换交易）和87万亿欧元名义本金的债券现货交易、8亿笔股票现货交易提供清算服务。芝加哥商业交易所清算所（CME清算所）每年为超过1000万亿美元名义本金的期货和衍生品交易提供清算服务。</p>
<h1 id="法律规定：中央对手方实现的基础"><a href="#法律规定：中央对手方实现的基础" class="headerlink" title="法律规定：中央对手方实现的基础"></a><span style="color:#339AFF;">法律规定：中央对手方实现的基础</span></h1><p>法律安排是中央对手方实现的基础，是防范化解金融风险的最高制度保障。中央对手方清算制度包含合约更替、担保交易、多边净额清算等核心内容，涉及多个民事主体之间的法律关系变动。同时，中央对手方清算所在防范和化解风险时，要采取事前与各方约定的措施来进行处理，对各方的经济利益直接产生影响。这些主体之间的法律关系以及中央对手方清算所拥有的权利和义务，必须在法律上有明确的界定，否则中央对手方清算所会面临巨大的法律风险。</p>
<p>经过长期的市场实践与发展，国际上已经总结出一套关于中央对手方较为成熟的标准。2004年，国际证监会组织和国际支付结算体系委员会（CPSS）共同发布了《中央对手方建议》（RCCP），提出了中央对手方的15项标准。2012年，国际证监会组织和国际支付结算体系委员会发布了《金融市场基础设施原则》（PFMI），在原来标准的基础上，进一步提出了涉及中央对手方的22项原则。这些标准和原则，简化通俗地说有这么几大块：一是要有法律对中央对手方的地位和作用进行规定；二是中央对手方要对参与者的资质、保证金有明确要求，要有一定的财务、运营能力，要有清晰的制度安排来维持充足的财务资源，以保证履约；三是中央对手方应有较高的自我风险管理能力和严格的风险控制制度；四是在跨境和跨市场交易中，中央对手方之间应该有良好的合作与协调；五是中央对手方清算所必须遵循法律法规和监管要求等。</p>
<p>美国、欧洲期货交易所或独立清算所的中央对手方清算制度有详尽的法律规定做支持。2011年修订的美国《商品交易法》对中央对手方的规定很明确：“衍生品结算组织……在处理协议、合约或交易时，通过更替或其他方式，使协议、合约或交易各方的信用能被衍生品结算组织的信用替代；对于衍生品结算组织参与者执行协议、合约或交易产生的债务，衍生品结算组织以多边的方式为其安排或提供结算或净额结算；或以其他方式提供结算服务或安排，使衍生品结算组织参与者执行的该等协议、合约或交易产生的信用风险能在参与者之间进行风险分摊或转移。”同时法律还规定，只有衍生品结算组织才是中央对手方。该法还用较多的条款，对衍生品结算组织的财务资源、会员和参与者的适格性、风险管理、结算程序、资金处理、违约处理规则和程序、规则执行、技术系统保障，以及内部治理、法律风险和监管等方面进行了详细规定。[8]</p>
<p>对比国际标准以及成熟市场的法律规定，我国期货市场中央对手方制度仅在行政法规层面有规定，法律层面没有规定（因为我国目前还没有一部《期货法》），面临法律保障不足的问题。尽管这些年中央对手方清算制度在我国期货市场防范和化解风险方面发挥了很大作用，但是由于没有法律安排这一制度，在具体实施中也出现了一些纠纷，存在较大的法律风险问题。关于我国期货市场中央对手方制度“是否入法”的问题，下面还会专门进行论述，这里先不展开。</p>
<p>风险控制：中央对手方的核心依靠</p>
<p>中央对手方为什么能够给市场增信？中央对手方何以如此牛气，敢于承担市场所有买方和卖方的违约风险？这是因为中央对手方清算机制后面有一套全面系统的风险控制制度作为它的依靠和支撑。</p>
<p>从中央对手方清算制度的演进中可以清楚地看出，期货交易所或清算所以中央对手方的方式进行期货结算的最大动因，在于解决交易对手方的信用风险从而增强市场信心。但是，中央对手方清算制度并没有减少期货市场的信用风险，只是将各交易对手的信用风险集中于中央对手方清算所上。正如彼得在他的书中指出的：“中央对手方清算所通过消除违约导致连锁反应的威胁，降低市场的风险，但这样做的同时它们将风险集于自身，变为了金融体系中潜在的高风险单一失败点环节。”[9]风险的累积及分布结构的变化，使得中央对手方清算所对自身风险控制与管理的重要性极为关键，如果中央对手方清算所发生风险问题，其影响的不仅仅是单个对手方，而是会引发系统性风险。</p>
<p>中央对手方的风险底线必须牢不可破。目前，国际上主要期货交易所或清算所按照国际标准的要求，都建立了一套较为完备的风险控制制度。虽然每家中央对手方清算所面临的市场情况各有不同，在具体的风险管理制度设计上也会有些差异，但总体上讲还是大同小异。总体而言，期货市场中央对手方清算主要的风险管理工具和机制包括以下几个方面。</p>
<p>严格的市场准入要求</p>
<p>为了防止市场参与者违约风险，中央对手方清算所对会员实行严格的准入规定，对其财务能力和运营能力提出较高的要求，并持续进行跟踪评估，只有满足这些条件的会员才能直接参与期货市场的交易和结算。</p>
<p>以CME清算所为例，其采用的是分级清算机制，清算所和清算会员进行清算，清算会员和客户进行清算。清算会员作为客户的代理人，对其名下的所有交易和持仓承担对清算所的财务担保与履约义务。在该结算体系下，清算所主要负责监控清算会员的风险，清算会员负责监控其客户的风险。CME清算所根据不同产品的风险状况，对清算会员制定了不同的资质门槛，建立了相适应的清算会员体系：如清算会员仅清算交易所上市的期货、期权产品，对其净资本要求较低，至少500万美元；如清算场外衍生品，则净资本要求至少5000万美元。另外，CME清算所的规则规定，持有清算会员公司5%以上股权的股东，必须对清算会员自营业务的债务在其出资范围内做有限保证。持有清算会员公司50%以上股权的股东，必须对清算公司自营业务的债务做无限保证。</p>
<p>我国期货交易所对期货公司会员也制定了非常全面的准入规定。除了证监会发布的《期货公司管理办法》对期货公司的申请设立、持续运营有要求外，期货交易所在其会员管理办法中有更加明确、具体的规定。以上海期货交易所为例，其会员管理办法规定，要成为期货公司会员，申请者注册资本不得低于人民币3000万元，要成为非期货公司会员，申请者注册资本不得低于人民币1000万元，而且申请者还必须拥有健全的组织机构和完善的财务管理制度及期货业务管理制度。上海期货交易所对所有会员实行年度检查，并就会员有关要求的落实情况进行持续监督。我国期货交易所实行全员结算和会员分级结算两种制度。与上海期货交易所全员结算制度不同，中国金融期货交易所实行会员分级结算制度。在全员结算制度中，所有的交易会员都同时是结算会员。而在会员分级结算制度中，区分了结算会员和非结算会员（仅有交易会员资格）。中国金融期货交易所对结算会员有更高的财务要求。</p>
<p>完善的风险管理机制</p>
<p>风险控制是中央对手方清算机制的核心，是中央对手方清算所的生命线。CME清算所认为其最主要的风险管理机制是履约保证金、盘中实时监控以及逐日盯市结算制度。按照我国《期货条例》的规定，期货交易所应当建立健全[包括保证金制度、当日无负债结算（逐日盯市）制度、涨跌停板制度、持仓限额和大户持仓报告制度、风险准备金制度以及其他风险管理制度]的风险控制体系。这里将主要的风险管理制度介绍如下。</p>
<p>1.保证金制度。期货交易实行保证金制度，期货买方和卖方必须按照其所买卖期货合约价值的一定比例（通常为5%～15%）缴纳资金，用于结算和保证履约。保证金制度是中央对手方清算所进行风险管理最基本的手段，是其他风险控制制度如当日无负债结算、强行平仓等制度建立和发展的基础。</p>
<p>在各国期货市场中，交易者缴纳的保证金对于提高期货交易的效率，降低期货市场信用风险发生的可能性具有重要的作用。正常情况下，期货交易所或清算所作为中央对手方并不承担市场风险，但却承担信用风险。中央对手方每一空头部位，必定有相对应的多头部位，反之亦然，所以其净仓位为零。如果没有结算参与人违约，无论价格如何变动，都不会引起中央对手方损失；如果有结算参与人违约，且交易处于亏损状态，则会导致中央对手方损失。保证金制度是现货交易与期货交易的区别所在，期货交易的杠杆作用正是通过保证金体现出来的：投资者不必交付期货合约标的物的价值，而只需按规定交付保证金即可，在标的物价值相同的情况下，现货交易与期货交易所需的资金有巨大的差别。</p>
<p>CME清算所为降低信用风险，建立了初始保证金、维持保证金和变化保证金制度。其对市场参与者的最低保证金要求根据市场风险状况来确定，并随着市场情况的变化而及时调整：对于场内交易的期货、期权等品种，清算所设置的保证金水平要求能够在99%的置信水平下，至少覆盖一日的价格波动风险；对基于农产品、能源、金属等的互换产品，设置的保证金水平要求在99%的置信水平下，至少覆盖一日的价格波动风险；而对于利率、外汇、信用等其他互换产品，设置的保证金水平要求在99%的置信水平下，至少覆盖5日的价格波动风险。若互换产品和交易所期货期权产品的风险可以折抵，则可以通过交叉保证金制度减收部分保证金，但不能完全抵销。</p>
<p>我国《期货条例》中要求期货交易所建立的第一项风险管理制度即是保证金制度。由于我国期货市场还实行涨跌停板制度，限制了期货合约每日价格最大波动的幅度，为了控制风险，期货交易所作为中央对手方收取的保证金要大于该品种的涨跌停板幅度，一般覆盖价格最大波动风险的1.5天左右。如上海期货交易所的铜期货合约，涨跌停板为上一交易日结算价的±3%，最低保证金要求为合约价值的5%；大连商品交易所的豆粕期货合约，涨跌停板为上一交易日结算价的±5%，最低保证金要求为合约价值的7%。此外，第六章已经提到，与成熟期货市场按交易者的净头寸收取保证金不同，我国期货市场按毛头寸收取保证金。</p>
<p>保证金的形式除货币外，还包括中央对手方清算所认可的仓单、国债等有价证券。保证金的目的，是保证期货合约交易过程中的一切义务能得到履行。在理论上，除了作为支付工具的货币能作为保证金外，其他任何具有价值的资产都可以作为保证金的形式。不过，在期货市场，流动性是最基本也是最重要的要求，而且计算保证金时更要求其价值易于确定，因此，具有高度流动性并很容易确定客观价值的资产，才可以作为保证金。由于有价证券能满足上述要求，其可以作为保证金的形式。CME清算所规定可作为保证金的资产包括现金、黄金、美国国债、外国主权债、股票、货币市场基金、交易所基金等。伦敦清算所接受可作为保证金的资产范围也大致相同。2017年底，伦敦清算所沉淀的保证金规模为1597亿欧元，其中现金和有价证券分别占45%和54%。</p>
<p>关于保证金的管理，中国和美国的期货市场都规定客户保证金应当与自有资金分开。美国《商品交易法》规定，客户资产实行分离制度，即客户资金与公司自有资金分户存放、相互隔离。CME清算所规定，清算会员的客户资产通过隔离账户得到保护。我国《期货条例》规定，期货交易所向会员、期货公司向客户收取的保证金，应当与自有资金分开，专户存放。期货交易所向会员收取的保证金，属于会员所有，除用于会员的交易结算外，严禁挪作他用。期货公司向客户收取的保证金，属于客户所有，除客户自身需要和证监会规定的其他情形之外，严禁挪作他用。</p>
<p>2.当日无负债结算制度。期货市场实行当日无负债结算制度，或称为逐日盯市制度（MarkedtoMarket），这是与保证金制度配套的风险控制手段。2008年金融危机期间担任美国商品期货交易委员会代理主席的沃尔特·卢肯（WaltLukken）在中国证监会2010年组织的一场研讨会上说，中央对手方风险防控机制的核心内容是相应的保证金水平和逐日盯市制度，在2008年的危机中，美国期货市场上没有一家清算所发生违约。他说：“一天两次的逐日盯市操作降低了扩散效应的风险。”</p>
<p>逐日盯市制度是指在每个交易日结束之后，中央对手方清算所先计算出当日各期货合约结算价格，核算出每个会员每笔交易的盈亏数额，以此调整会员的保证金账户。若保证金账户上的金额低于保证金要求，交易所通知该会员在限期内追加保证金以达到初始保证金水平，否则不能参加下一交易日的交易。</p>
<p>逐日盯市制度，作为期货结算独有的保证金风险管理手段，被认为是期货结算制度的核心，也是期货结算区别于现货结算的重要标志。期货交易与现货交易不同，采用保证金的杠杆交易机制，因此具有很大的违约风险。中央对手方清算所在结算时是所有交易者的交易对手，如果交易者发生亏损而致其保证金账户中的资金不足以承担履约责任，中央对手方清算所将面临损失。为了控制该风险，中央对手方清算所需每天（有时一天多次计算）对结算参与人进行结算，以及时发现其账户盈亏情况，并将结果及时通知给结算参与人。逐日盯市，能保证每一位结算参与人的保证金账户的盈亏被及时、真实而具体地反映，并使结算参与人保证金账户的负债限制在很短的时间内，从而有效地对结算风险进行管理。</p>
<p>如CME清算所，不允许清算会员对持仓损失进行累计，而是采取严格的逐日盯市制度。对场内期货、期权等基础产品，CME清算所每日进行两次盯市，对利率违约互换和信用违约互换产品，CME清算所每日至少进行一次盯市。在价格剧烈波动或清算所认为有必要时，清算所有权紧急盯市并要求立即完成保证金缴纳义务。根据前一交易日的结算价格计算的损益，CME清算所要求清算会员于每个交易日上午开市前收取或者支付结算款项，交收业务由清算银行根据清算所的交收指令于当日完成。我国期货市场上，各期货交易所也都严格执行逐日盯市制度，相关要求和操作流程与之基本相同。</p>
<p>3.持仓限额制度。持仓限额制度是指监管机构或交易所规定会员或客户可以持有的、按单边计算的某一合约投机头寸的最大数量。通过实施该制度，主要目的是防范过度投机，防止市场操纵行为，同时，也可以防止风险过度集中于少数交易者身上。</p>
<p>美国商品期货交易委员会对持仓限制作了如下定义：持仓限额是CFTC或期货交易所规定的一个交易者可以持有或控制的最大净多或净空持仓量；这一限制既可以针对某一月份的期货（或期权）合约持仓，也可以针对某一商品所有期货（或期权）合约合并后的持仓；符合资质的套期保值持仓不受该限制约束。根据该定义，美国期货市场的持仓限额制度包括以下几方面的内容。</p>
<p>（1）限仓层次分为联邦限仓和交易所限仓。2011年之前，CFTC仅对9个农产品期货品种施行“联邦限仓”（FederalLimits）。2011年，CFTC根据《多德–弗兰克华尔街改革与消费者保护法》的要求，通过了新的持仓限额规则[该规则虽经CFTC表决通过，但由于国际互换与衍生品协会、证券业与金融市场协会（SIFMA）向法庭起诉，至今尚未正式生效]将“联邦限仓”扩展到包括农产品、能源、金属期货的28个品种。“联邦限仓”范围以外的其他品种，由交易所自主设定持仓限额或使<br>用持仓报告水平[11]作为限制手段。</p>
<p>（2）限仓标准分为单个月份持仓限制（包括一般月份持仓限制和交割月持仓限制）以及所有月份合并持仓限制。一般月份持仓限额基于以往持仓规模测算，通常采用“10，2.5%”标准，即以前一年度平均持仓规模在2.5万手以内部分的10%，加上超出2.5万手以外部分的2.5%作为一般月份限仓标准。交割月持仓限额基于品种可供交割量测算，通常以该品种可供交割量的25%作为交割月限仓标准。交割月持仓限额通常都会大大小于一般月份持仓限额。2012年之前，所有月份合并持仓限额通常为一般月份持仓限额的1.5倍，但从2012年开始，二者基本保持一致。CFTC或交易所对限仓标准每两年调整一次。此外，2011年CFTC的限仓新规要求，要把“经济上等同的”[12]在境外期货交易所上市的期货、期权合约以及场外互换合约纳入合并限仓的范围。</p>
<p>（3）持仓限制豁免规定。对于非投机持仓，可以申请持仓限额豁免。目前美国持仓限额豁免的对象主要包括套期保值持仓（一般是商业用户）、利差/套利头寸（一般是套利者）、风险管理头寸（一般是互换交易商）三类。</p>
<p>和国际期货市场一样，我国期货市场也实行了持仓限额制度，但目前我国还没有在法规上明确证监会和交易所双层的限仓规定，仅仅是由期货交易所确定各期货品种合约的持仓限额，在大体遵循国际标准的同时，还有如下三个规定。</p>
<p>（1）采用限制会员持仓和限制客户持仓相结合的方式，来控制市场风险。</p>
<p>（2）商品期货合约在进入交割月份前一个月和进入交割月期间，持仓限额逐级递减。</p>
<p>（3）各期货交易所对套期保值交易头寸实行审批制，其持仓不受限制。</p>
<p>美国CFTC的监管实践中，对“超仓”的监管是重要的监管范畴，有很多处罚“超仓”的案例，我国主要由期货交易所进行自律管理。可以看出，境内外期货市场通过实施投机持仓限额制度以及对套期保值等特定目的持仓的头寸限制豁免制度，兼顾了防范市场风险和服务实体经济需要之间的平衡。</p>
<p>4.其他风险管理制度。除以上制度外，境内外期货市场还普遍实施了其他风险管理制度。</p>
<p>（1）涨跌停板制度。这个制度又被称为每日价格最大波动限制制度，即指期货合约在一个交易日中的交易价格波动不得高于或者低于规定的涨跌幅度，超过该涨跌幅度的报价将被视为无效报价，不能成交。美国、英国等成熟市场对期货合约价格波动设置熔断机制，而中国等新兴市场一般都设置涨跌停板制度。二者叫法不同，实质一样，都是对价格过度波动设置的一种冷却机制。</p>
<p>（2）大户报告制度。当交易所会员或客户在某品种、某合约的持仓达到交易所规定的持仓报告标准时，会员或客户应向交易所报告。通过实施大户报告制度，交易所可以对持仓量较大的会员或客户进行重点监控，了解其持仓动向、意图，有效防范操纵市场价格的行为。中国和美国期货市场在大户报告制度的基础上，还实施了实际控制关系账户报备制度，以防止市场参与者通过开立多个账户刻意规避向交易所履行报告义务的行为。如CFTC规定清算会员、期货经纪商、外国经纪商三类中介机构应在某账户首次触及大户报告水平的三天之内，向CFTC书面提交《102表：特殊账户识别表》，主动报告账户所有人及控制人关系等关键信息。中国期货市场监控中心发布的《期货市场实际控制关系账户管理办法》规定，符合实际控制关系账户认定标准的客户应当在签署经纪合同后10个交易日内完成实际控制关系报备，实际控制关系的控制人和被控制人都应当通过各自开户期货公司填写实际控制关系报备信息。</p>
<p>（3）盘中实时监控制度。境内外期货交易所都对期货市场实施盘中实时监控，如CME清算所实时监控交易时段内价格变动和交易行为，监控市场参与者实时仓位、保证金、盈亏和风险暴露情况。我国4家期货交易所均建立了市场风险实时监控和预警系统，对市场的资金、交易、持仓及价格变动进行实时监控，以及早发现各类违法违规行为，及时采取措施控制以化解市场风险。我国期货市场在期货交易所自身的实时监控之外，证监会还集全市场之力，专门建设了“期货市场运行监测监控系统”，由中国期货市场监控中心对全市场进行实时监测监控，为证监会的期货市场监管工作提供有力支撑。</p>
<p>（4）强行平仓制度。强行平仓，指的是按照有关规定对会员或客户的持仓实行平仓的限制措施，其目的是控制期货交易风险。强行平仓分为两种情况：一是，期货交易所对会员实行的强行平仓；二是，期货公司对其客户持仓实行的强行平仓。强行平仓制度适用的情形一般包括：第一，因会员（客户）交易保证金不足而实行强行平仓；第二，因会员（客户）违反持仓限额制度而实行强行平仓；第三，违规处罚下的强行平仓及紧急情况下的强行平仓。</p>
<p>（5）追加保证金制度。该制度与强行平仓制度紧密相关。追加保证金分为盘后追加保证金与盘中追加保证金。盘后追加保证金是期货结算中的常态，指每天结算结束后，如结算参与人的保证金不足，则应在规定的时间内予以追加。盘中追加保证金指在交易日内尚未结算时，中央对手方清算所根据市场风险状况，要求风险较大的结算参与人及时追加保证金，这种保证金追加方式是市场风险加大时的一种应对方法。当结算参与人的保证金不足，且未能在规定的时间内追加保证金或自行平仓而释放风险时，中央对手方清算所将对该结算参与人持有的头寸进行强行平仓。</p>
<p>充足的财务安全保障体系</p>
<p>中央对手方清算所要确保自身有足够雄厚的财务资源，来抵御清算会员或客户违约风险以及其他各类清算风险。国际上把中央对手方清算所用于管理违约损失的一系列已融资财务资源称为违约瀑布序列（DefaultWaterfall），具体如表7–1所示。《金融市场基础设施原则》明确建议中央对手方清算所的违约瀑布序列依次为：违约清算会员的保证金、违约清算会员的担保基金、清算所部分自有资金、未违约清算会员的担保基金，以及清算所用于吸收违约风险的其他财务资源。与之对应地，在欧洲期货和衍生品市场上，欧盟于2012年7月正式发布《欧洲市场基础设施监管规则——关于场外衍生品、中央对手方和交易信息库》（EMIR）。EMIR中有单独的一个章节（第45章）对违约瀑布序列做出了详细描述，规定违约瀑布序列顺序依次为：违约清算会员的保证金、违约清算会员的担保基金、清算所一部分自有资金、未违约清算会员的担保基金。事实上，EMIR第45（4）章明确规定：清算所必须先使用一部分自有资金，然后才能动用未违约会员的担保基金；且未违约会员的保证金，不能用于偿付其他违约会员造成的损失。</p>
<p>以CME清算所为例，其建立了三个独立的分别针对基础产品类别（场内期货、期权产品）、利率互换以及信用违约互换的保障基金，每类产品的清算会员都需缴纳相应的保障基金，以应对可能发生的清算会员违约。目前这三个违约保障基金的总额已经超过183亿美元。其中，每一个单独的保障基金规模都足够覆盖该产品类别规模最大的两家清算会员违约可能带来的最大损失。任何一个单独的保障基金都不可以用来弥补另一个保障基金所保障的资产类别中发生的违约损失。</p>
<p>与CME清算所的保障基金类似，我国期货市场建立了风险准备金制度，期货交易所按照手续费收入、期货公司会员按照佣金收入的一定比例提取风险准备金，用于应对市场风险。目前，4家期货交易所都积累了充足的风险准备金和自有资金，而且由于实施了严密的风险控制制度，近20年来从未出现过需要动用交易所风险准备金以应对市场风险的情况。</p>
<p>境外市场的实践证明，当风险真正发生时，设计完善的违约瀑布序列能够有效化解违约风险，保证金融系统稳定。2008年金融危机中，伦敦清算所在雷曼破产后三周内，仅使用到雷曼自身35%的初始保证金便成功弥补了违约损失，没有影响任何交易对手，最后还退还了雷曼剩余的保证金。伦敦清算所的违约瀑布序列依次为：违约会员的变动保证金和初始保证金、违约会员的担保基金、清算所风险准备金、未违约会员的担保基金以及清算所剩余资本。违约瀑布序列的每一个构成要素在违约损失分摊处理中发挥着不同的功能（见表7–1和图7–1）。</p>
<blockquote>
<p>表7–1 国际主要衍生品交易所或清算所的违约瀑布序列</p>
</blockquote>

<blockquote>
<p>图7–1 雷曼破产事件中伦敦清算所的违约瀑布序列</p>
</blockquote>

<p>风控缺失：中央对手方刹车失灵闯祸</p>
<p>“跑得越快，对刹车性能的要求越高”，开车的人都知道这个道理。对于在公路上高速行驶的车辆来说，遇到紧急情况刹不住车，后果将是灾难性的。中央对手方清算机制作为全球金融市场的一项重要制度创新，极大地促进了金融交易、清算的速度与效率。在这个每时每刻都在高速运转而且还在不断加速的市场上，中央对手方自身的安全性能否得到保证，风险控制制度是否足够有效，至关重要，否则可能“车毁人亡”。正如彼得在书中所称的，中央对手方清算所已经处于巨大的、具有系统重要性的市场的中心位置。但中央对手方自身并非没有风险，其在减少风险的同时又聚集了风险，使自身成为金融系统的单一高风险环节。因此，彼得在大书特书中央对手方清算制度对金融市场风险控制的积极作用以后，不得不在书中的结尾部分提醒参与者“设想中央对手方违约”带来的恐怖。而用欧盟理事会金融市场基础设施小组主管帕特里克·皮尔森（PatrickPearson）的话说，这可能带来“金融末日”。</p>
<p>在全球金融市场的参与者越来越注重“短期”而非“长期”，越来越追求“套利”而非“价值”，越来越注重“杠杆放大收益”而非“成长创造收益”的今天，很多市场人士甚至包括一些监管人士不愿去设想中央对手方违约的可能性，不想去研究这件事发生的概率到底有多大，甚至根本不愿意提及这个话题，抱着“鸵鸟心态”，好像不提及就不会发生一样。但实际情况是，中央对手方违约难以想象，却并非不可能，而且随着市场规模的扩大、跨境跨市场联动的加强，更要引起高度警惕。以史为鉴，20世纪七八十年代全球期货市场就曾发生过数起中央对手方违约甚至倒闭的事件（见表7–2）。例如，1974年，巴黎清算公司眼见白糖期货市场波动加剧而未能及时提出追加保证金要求，直到价格大幅跳水，在交易者无法补足高额日间保证金之后宣布难以为继。1983年，马来西亚的吉隆坡商品结算所同样因为未能及时监测到棕榈油期货的价格异常而及时提高风控标准，最终倒闭。1987年香港股票、期货市场因“黑色星期一”停市4天，香港政府联合各方救市才总算渡过危机。香港期货市场长期各自为政早已埋下隐患，香港期货交易所关心盈利而忽略风控，香港期货结算所制定风控制度却实际不担风险，香港期货保证公司直面结算风险却不负责监测市场、不了解市场情况。</p>
<blockquote>
<p>表7–2 历史上发生的清算所风险控制举措失当事件</p>
</blockquote>

<p>这是境外市场发生的一些例子，由于发生的时间比较早，当时我国境内还没有股票市场和期货市场，所以境内市场后来的参与者和监管者没有特别深的感受。可1995年发生的“327事件”却是我国期货市场因中央对手方失灵而经历的一次大风险。前面已经提到，20世纪90年代中期发生在上海证券交易所的“327事件”，让我国金融市场相关各方有了真正的切肤之痛，让中国金融界刻骨铭心。刘鸿儒在其2008年出版的《突破——中国资本市场发展之路》一书中专门对“327事件”进行了反思，把“327事件”的发生归结为四大方面的原因：（1）最根本的原因在于整个社会对国债期货的套期保值需求不足，投机气氛过于浓烈；（2）相关法律法规不健全、监管缺位，是导致“327事件”的重要原因；（3）信息披露不规范，使得国债期货成为“消息市”的牺牲品；（4）合约设计不符合国际惯例，忽视了对风险的控制。[17]作为当时的亲历者，刘鸿儒对“327事件”的分析可以说是非常深刻。但如果刨除国债期货产品先天不足、万国证券等机构内控制度缺失、法律法规不健全、政府监管缺位等方面的原因，主要从中央对手方风险控制的角度看，上海证券交易所作为国债期货市场的中央对手方，没有一整套风险控制制度安排或者说有些制度虽然有，但实际上没有严格执行，当遇到风险的时候“刹车失灵”，这才是导致“327事件”发生的一个重要原因。</p>
<p>1997年，作为组长，我带领国务院“辽国发”资产负债联合调查组前往上海调查“辽国发”的资产负债问题（“辽国发”是“327事件”中的一个重要角色），发现当时上海证券交易所在“327事件”中，其作为中央对手方的职责定位和风险认识并不清晰，在风险控制上只有很粗略、概括的安排，规定既不详细，执行也不到位，更难有什么周密、精细可言。因此从这个角度看，风险的发生似乎是必然而且顺理成章的。与之形成对比的是，当时也在进行国债期货交易的北京商品交易所，建立了一套较为完备的包括保证金制度、限仓制度、逐日实时盯市制度、涨跌停板制度的风险控制机制，中央对手方风险控制制度的落实比较到位，所以没有出现大的风险。归结下来，当时上海证券交易所在国债期货市场中央对手方风险控制方面存在以下几个问题。</p>
<p>一是限仓管理太松、制度形同虚设。当时的上海证券交易所国债期货交易风险管理制度规定：“交易所根据会员公司的资本金、经营信誉和管理经验，按20万口[18]、10万口、5万口与1万口的标准，核定各会员公司国债期货的最高持仓限额。……任意客户在单一品种合约上的最高持仓额不得超过5万口。”[19]但在实际操作中，持仓限额的规定并未得到严格执行。一方面，上海证券交易所为了做大交易量，对于市场份额比较大的会员公司，主动突破持仓限额的规定，且没有统一的标准和依据。比如交易所核定给万国证券和“中经开”的持仓限额均为40万口（万国证券的说法是，交易所核定给它的持仓限额是70万口）。另一方面，对会员和客户明目张胆地突破持仓限额的规定，交易所则视而不见。比如1995年2月23日一开盘，“辽国发”控制下的无锡国泰期货公司超仓数倍卖出200万口“327合约”。此外，为了规避交易所的限制，当时市场无论做多或做空，到处外借席位开仓成为风气，如万国证券、“辽国发”等空头先后在外借用了广发、兴业、海发、京发、安徽、财政、华夏、深发等券商的期货仓位大量开设空仓，多头也是如此。而交易所在“327事件”发生前，对市场上普遍出现的分仓、借仓等行为基本采取不闻不问、放任自流的态度。交易所的失职，最终导致了两方面的后果。</p>
<p>1.由于没有任何的外部监管约束和干预，在国债期货市场上“杀红了眼”的万国证券在“327合约”上的空头持仓节节攀升。从1月23日的25万口、1月27日的40万口、2月16日的87万口、2月17日的130万口、2月22日的144万口，一直上升到2月23日离收盘8分钟前的193万口。仓位越来越高，价格的任何不利变动都会使万国证券面临巨大的亏损，最终只能选择孤注一掷。如果交易所严格认真执行限仓制度，把任何会员的仓位都牢牢控制在40万口的限额以下，万国证券就不会发生那么大的亏损，也就不会激发起它越来越大的“赌性”。这就是期货市场外部监管的作用，有效的监管制度能够抑制市场参与者的非理性行为和赌徒心理，而无效的监管制度则会使这种非理性行为进一步放大。</p>
<p>2.限仓制度未嵌入交易所技术系统，给了万国证券拼死一搏的机会。如果限仓制度在交易所技术系统中得到真正实现，无论是2月23日一开盘“辽国发”的200万口空单，还是离收盘最后8分钟万国证券的2000多万口空单，都下不到交易所的技术系统里，也就不会使结算系统出现巨大的风险敞口。这说明制度不能仅停留在纸上，必须要在技术上实现，这样即使投机者已经失去理性，其交易指令也会被技术系统挡住，就能杜绝这种巨大的穿仓风险发生。而当时上海证券交易所国债期货市场的实际情况恰好相反!</p>
<p>二是保证金制度没有得到严格的执行。上海证券交易所的老员工陆一在其《中国赌金者——327事件始末》一书中写道，上海证券交易所的国债期货交易规则中，保证金控制和持仓限额这两条是明文公布并得到市场各方认可的、维持上海国债期货市场运转的基本法则。[20]但就是这两条基本法则的失守，最终导致了灾难的发生。限仓制度如此，保证金制度更是如此。</p>
<p>1.保证金制度“似有实无”。上海证券交易所虽然有保证金的规定，但实际执行的是完全的信用交易。会员或客户在下单时不用计算保证金，收市后按净头寸计算保证金，所以在没有资金的情况下也能抛出巨额仓单，信用风险很大。</p>
<p>2.保证金设置“名高实低”。期货交易的保证金一般都是按照期货合约市场价格的一定比例收取的，而上海证券交易所则是按票面价值计算。对于会员自营，只收取票面价值（100元）1%的保证金，若按市场价格（150元左右）计算只有0.7%左右。对于一般投资者，只收取2.5%的保证金，实际只有1.8%左右。在这种方式下，随着国债期货市场价格上涨，实际收取的保证金比例还在不断下降，杠杆进一步加大。</p>
<p>3.保证金收取“虚实难辨”。当时，“辽国发”等国债期货交易大户用国债“代保管单”或“入库通知单”作为国债期货交易的保证金，而这些“代保管单”或“入库通知单”都是一些没有现券依托的虚假空单。其在与交易所进行的国债回购业务中也是“如法炮制”。此外，在“辽国发”持有的国债期货合约空仓到期交收时，其无法交付足够的符合要求的现货券，用于替代交收的“代保管单”或“入库通知单”也是空单。在上述国债期货交易和国债回购业务中，“辽国发”对上海证券交易所共形成总负债<br>64.38亿元，其中直接和国债期货交易相关的有20多亿元。[21]</p>
<p>4.会员与客户的保证金“彼此不分”。国际期货市场的惯例是中介机构的资金应与客户的资金隔离。但上海证券交易所对会员国债期货保证金的使用没有专门的规定，会员的自营交易与代理客户交易混在一起，会员经常对少数大户以“融资”、少收保证金、垫支保证金等形式，允许他们“透支”进行国债期货交易。</p>
<p>三是没有涨跌停板制度与保证金制度的协调安排。“327事件”发生之前，北京商品交易所就对国债期货交易实行了涨跌停板制度，但上海证券交易所一直没有实行，这在一定程度上助长了交易者的投机心态。而且，当市场价格波动加大时，容易导致会员或客户的保证金穿仓风险。“327事件”发生之后，北京商品交易所决定将国债期货的保证金提高到3%，将涨跌停板限制到2%，确保交易所收取的保证金水平能够覆盖单日可能发生的最大波动。这是期货市场100多年总结出来的覆盖风险的逻辑和风险文化。而上海证券交易所是以现货交易为主，文化理念、风险防范逻辑与期货不同。因此，上海证券交易所出台的新规定，虽然也开始对国债期货交易实行涨跌停板制度，但并未考虑与保证金制度匹配的问题，仍然无法有效覆盖价格波动的风险。这也许是证券现货与期货风险文化有区别而导致的。</p>
<p>四是盘中实时监控（盘中盯市）缺位。有了交易规则，但技术系统跟不上，没有技术手段控制，也是没有用的。对市场交易行为“看不见”“说不清”，最后的结局就是“管不住”。从当时上海证券交易所的情况看，对国债期货市场既没有盘中实时监控的意识和概念，也没有相应的技术和人才配置，导致持仓限额和保证金控制这些风险控制制度只停留在纸面上，根本落不到实处。体现在以下4个方面。</p>
<p>1.对于万国证券、“辽国发”等大户盘中公然的超额开仓、突击砸盘等行为，上海证券交易所事前无法控制、事中无法制止，束手无策。</p>
<p>2.对市场上普遍存在的规避交易所规则限制的借仓、暗仓等行为，上海证券交易所没有任何监测监控的手段，发现不了。直到“327事件”发生的当天上午，上海证券交易所对万国证券长期存在的严重超仓行为还完全不知道，更别提按规定强行平仓了。</p>
<p>3.对盘中的保证金透支和风险缺口底数不清、情况不明。和北京商品交易所的“逐笔盯市”不同，上海证券交易所的保证金只是“逐日盯市”，所以无法实时控制每笔交易的保证金是否足够。2月23日上午，在万国证券、“辽国发”的账户已经巨额亏损、保证金严重透支的情况下，它们还能大量透支开设仓位，进一步放大了市场风险。</p>
<p>4.对市场操纵、对倒等严重违规行为司空见惯、听之任之。当时的国债期货市场上，中介机构联手操纵市场，同一会员不同席位、同一客户不同账户间互相对倒操纵市场价格的行为非常普遍。这些行为扭曲了市场价格、扰乱了市场秩序，无论是按国际期货市场上的规定，还是按我国期货市场现在的规定，都属于严重的犯罪行为。但当时没有法律法规，交易所也没有相应的规则，对此一直处于司空见惯、听之任之的状态。</p>
<p>五是缺乏其他风险控制制度安排，即使有，也执行不到位。如上海证券交易所没有大户报告制度，不能及时掌握“辽国发”等持仓大户的交易情况；没有单笔报单的最高限额；没有严格执行逐日盯市制度等。</p>
<p>由于上海证券交易所的风险控制制度不完善，实际执行中又存在这样或那样的问题，严重影响和极大削弱了其作为中央对手方的公信力和权威性。当市场中有一方发生较大亏损时，他们不认为是自己的市场判断、风险控制、交易策略出了问题，不是想着自己要去调整或补救，而是认为大家都在违规，“认赌却不服输”，寄希望于交易所临时改变规则或取消对他们不利的交易。“327合约”上如此，在这之前的“314合约”上也是如此。在这种情况下，市场参与者的非理性或赌性被急剧放大了。当这些恶性投机者的无理要求被交易所拒绝以后，2月23日当天，无论是万国证券还是“辽国发”都抱着同样的心思，那就是妄图用规模更大的违规交易绝地反击，万一胜了则一举扭转局面，败了就把所有的透支和亏损甩给交易所，让交易所去擦屁股。从某种意义上来说，在当时的上海国债期货市场，不健全的中央对手方清算机制不仅没有起到控制风险的作用，反而为违规者肆无忌惮的惊天豪赌提供了可乘之机，风险潮水般地涌过来，穿过那一道道形同虚设的控制阀门，迅速堆积到交易所的结算系统上。一旦风险足够大，交易所的结算系统不堪重负而崩溃，清算中断，系统性风险也就发生了。所幸，“327事件”发生的当天，在上海市政府的紧急协调和相关金融机构的支持下（当时交易所还属地方管理），结算得以完成，系统性风险最终得以避免。上海证券交易所逃脱了中央对手方违约致使市场崩溃的命运。[22]</p>
<p>“327事件”发生后，举国关注。政府处理了一些人，停了国债期货交易，大大延缓了中国金融期货市场的发展进程。但从另外一个角度看，这对中国期货市场是一次深刻的风险教育，从此市场各方的认识高度一致了，建立并执行严格的风险控制制度更加容易了。而有了完善的风险控制制度支撑的中央对手方清算机制，为中国期货市场长远的健康稳定发展提供了保障。</p>
<p>可分可合：中央对手方和交易所不是必然一体</p>
<p>中央对手方是期货清算所的必然机制而不是期货交易所的必然机制。期货交易所和期货清算所是功能不同的两个机构。期货市场的运作包括两个基本环节，一个是被称为“前台”的期货交易环节，一个是被称为“后台”的期货结算环节。期货结算是期货市场的核心，关系整个期货市场健康、高效而安全地运行。</p>
<p>期货交易所和中央对手方清算所有各自独立发展的历史。二者关系紧密，但可分可合。交易所属于交易处理行业，而清算所则是风险管理行业。为了进行清算工作，中央对手方清算所必须和交易所、交易平台或其他交易场所保持密切联系。中央对手方可以是存在于期货交易所外的专门清算机构，也可以是存在于期货交易所内和交易等部门同在一个屋檐下的结算部门或全资子公司。独立者如历史上的英国、法国，欧洲的清算所大多都是独立于期货交易所的，是在期货交易所之外的公司。比如过去伦敦金属交易所（目前LME已经依靠自己的清算公司进行清算）、伦敦国际金融期货交易所（其业务已经并入洲际欧洲交易所）都依靠独立的伦敦清算所提供服务。我国证券市场的中央对手方也是独立于沪深交易所的清算机构，即中国证券登记结算公司。混合者如美国芝加哥商业交易所、洲际交易所，我国的上海、大连、郑州以及中国金融期货交易所等都有自己内部的清算部门或全资的清算子公司。这就是清算环节平行和垂直两种模式的表现，两种模式各有利弊。</p>
<p>由于美国、中国等国家的大部分期货交易所把结算置于交易所一体内，一个屋檐下的生活，模糊了二者的界限。有人简单地把交易所认为是风险管理中心，其实不然。交易包含两部分，即交易和交易后的服务。交易即是买卖双方意愿的达成，但交易指令完成后的服务包括算账和结清货物与钱款，这就是清算与结算，这可以是另一个机构来完成的事。《全球风控家——中央对手方清算》一书中详细地描述了交易和中央对手方清算是如何分成两个不同的机构来完成的历史。如果拆分，清算所才是风险管理中心，所谓具有系统性风险的金融机构应是指中央对手方清算所，所谓金融市场基础设施也是指中央对手方清算所。我国期货市场中央对手方清算是独立设立公司，还是维持现在垂直于交易所的部门，一直有争论。目前，我国4家期货交易所的意见，比较倾向于清算所属于交易所内垂直的部门或子公司，认为这样可以把交易所做大做强，以便更好地参与国际竞争，同时也便于协调和处置风险。而结算参与者和投资者的意见，更希望清算所成为独立于交易所的机构，认为这样可以节约交易成本、提高效率、优化服务。后一种意见涉及的利益主体更广泛，应该被关注。</p>
<p>国际货币基金组织和国际证监会组织认为，无论是期货交易所作为中央对手方，还是独立清算所作为中央对手方，它们都属于金融风险管理行业，都涉及公众利益，因此都要被纳入金融市场基础设施范畴。国际上把金融市场基础设施定义为：参与机构（包括系统运行机构）之间，用于清算、结算或记录支付、证券、衍生品或其他金融交易的多边系统。根据该定义，金融市场基础设施包括支付系统、中央证券存管、证券结算系统、中央对手方和交易数据库五大类。国际金融组织对我国实施《金融市场基础设施原则》情况开展评估，评估对象包括中央国债登记结算公司、中国证券登记结算公司、上海清算所和4家期货交易所，没有沪、深证券交易所。因为在我国证券市场上，中央对手方功能已经从证券交易所分离出来到了中国证券登记结算公司，证券交易所仅仅具有交易功能，不具备风险管理功能，不属于金融市场基础设施的范畴。</p>
<p>貌似相同：支付宝与中央对手方之异同</p>
<p>说到中央对手方，我们常用的支付宝倒是和它有点儿“貌似相同”，但实质各异。</p>
<p>到淘宝网购物已经成为大多数中国人日常生活的一部分，我家大部分的购物就是在淘宝网上完成的。由于工作的习惯，我常把期货市场的中央对手方清算制度和淘宝网的支付平台进行对比。在淘宝网购物，买家选定卖家的商品下单后，随即通过与淘宝网的支付平台——支付宝绑定的银行卡支付购物款，但买家支付的款项不是马上进入卖家的账户，而是放在支付宝平台账户上，待买家收到商品并验收无异议后，支付宝才将买家的购物款划入卖家的账户，至此钱货两清，交易结算完成。在这个过程中，支付宝平台上可实现对买卖双方交易行为的全程监控。经过多次买卖以后，买家和卖家之间建立了商业信用。淘宝网还通过建立买卖评分机制，来促进交易双方的信用养成。支付宝对双方信用如何，看得一清二楚，但其不介入双方的交易，而是作为监督平台发挥作用。如果卖家的商品有问题或者买家的资金有问题，产生了纠纷，支付宝可暂不付款，待二人之间谈妥后再付款，“不见鬼子不挂弦”。即使支付宝已经将买家的款项支付给卖家，如果遇到产品质量方面的问题，也可监督卖家退款。</p>
<p>支付宝开展的支付业务俗称“第三方支付业务”，是大众对非金融机构开展支付业务的通俗说法，这是需要在中国人民银行申请牌照后才可以开展的业务。目前，在中国类似于支付宝这样持有支付牌照的第三方支付机构还有腾讯的微信支付等200多家。按照中国人民银行的相关规定，“第三方支付业务”，即非金融机构支付服务，指的是非金融机构在收付款人之间作为中介机构提供货币资金的转移服务，包括网络支付、预付卡的发行与受理、银行卡收单及中国人民银行确定的其他支付服务等。支付宝与微信支付开展的就是其中的网络支付业务，即支付机构依托公共网络或专用网络在收付款人之间转移货币资金的行为，包括货币汇兑、互联网支付、移动电话支付、固定电话支付、数字电视支付等。[23]第三方支付机构为在网上买卖商品的双方提供支付结算服务，凭借平台的公信力，监督网上交易的进行，维持网上商品交易市场的信心。</p>
<p>与淘宝网提供商品买卖平台类似，期货交易所提供的是交易商品衍生品——期货、期权合约的平台。和支付宝一样，期货交易所对交易所平台上期货期权合约交易双方的合约头寸和钱款情况也看得一清二楚（中国能看穿入场的交易所会员，直接看到客户的交易账户，美国等西方市场只能看到交易所会员的账户，我们称之为“看不穿”），并为所有交易者提供清算结算服务。因此，从这个角度看，期货交易所和支付宝有许多共同之处。</p>
<p>二者的不同之处主要在于，期货交易的清算结算实行中央对手方制度，由期货交易所作为所有交易者的中央对手方，承担履约责任。而在淘宝网的商品买卖结算中，支付宝的制度安排属于一种担保制度，它仅仅是为买卖双方提供资金转移服务的支付平台和交易履约的监督平台，可以为市场参与者提供一定程度的保护，尽量减少对手违约造成的损失。这有点儿像19世纪欧洲期货清算所的清算模式。对期货交易所来说，为保证中央对手方清算制度得以贯彻执行，需要有一系列的风险控制制度安排。而对支付宝来说，它不是中央对手方，并没有介入买卖对手方中间去，不是所有买方的卖方和所有卖方的买方。由此它不需要相应的保证金、每日无负债、盘中盯市、强制平仓、开仓限制、风险准备金等一系列风险控制制度安排进行配套。作为第三方支付机构，支付宝承担的风险主要还是技术风险、客户资金安全风险等，这也决定了它的风险关注点、风险控制措施和中央对手方清算所有很大的不同。</p>
<p>犹疑之间：中央对手方是否入法的讨论</p>
<p>中央对手方制度，在中国不是一开始就被接受的。</p>
<p>尽管发达国家期货市场的中央对手方清算制度已经有100年左右的历史，尤其是20世纪80年代以后进一步发展完善，在防范系统性风险方面的作用十分显著。但在我国期货市场建立后较长一段时间里，这个系统性风险防范化解的基础制度，并没有得到足够的重视。</p>
<p>20世纪90年代初，刚引进期货市场时，我国各家期货交易所对中央对手方的理解不同，认识也不全面，它们经历了一个从学习、了解到逐步深化的过程。期货交易所刚建立，没有实践、没有经验、没有人才，也没有系统的期货交易清算结算方面的知识与培训。一些交易所的开创者、建设者从美国芝加哥或英国伦敦考察一圈回来后，根据自己的理解搞起了期货交易的清算结算制度。各家交易所对这一期货市场核心制度的碎片化学习借鉴，有点儿“盲人摸象”的味道。当时，这些交易所对期货交易的结算交割在认识上存在的问题是，仅仅把交易所作为期货交易的履约监督者，交易所的责任仅仅是监督交易双方履约，保证合约的履行，而不是合同替代（交易所成为买方的卖方、卖方的买方），就如今天的支付宝一样，没有把自己看成是市场信心的支撑和提供市场信用的机构，也没有想要主动承担双方结算交割不能履约的风险。交易所没有把中央对手方清算作为期货交易结算交割制度的核心内容，没有把为市场提供信用作为应该坚持不渝的办所理念。因此，在早期期货交易所的结算交割制度里，没有关于中央对手方的明确规定。这也许是因为早期的市场建设者主要来自商品流通领域，对中央对手方在防范化解结算风险方面的重要性，没有从金融的系统性风险角度来认识或认识不足，仅仅从商品交易的结算交割角度去理解期货市场的支付结算系统，而没有从清算机构的金融属性来看待商品期货交易的结算交割行为。</p>
<p>这种认识从上海期货市场早期开拓者贺涛的研究中可窥一斑。他认为：“结算方式是区别期货交易和现货交易最重要的标志之一。如果不采用逐日盯市的每日结算，就很难称作期货交易，因为逐日盯市才是期货交易的本质特征，只有逐日盯市才有可能控制期货风险。”贺涛的研究中对期货交易结算的认知在当时已经是很先进的了，对防范风险的作用是明显的，但是在这段话里，虽然涉及了中央对手方机制需要的一些条件，但并不能说这就是期货交易的本质特征。期货市场得以安全运行，首先要建立期货交易所的信用，而交易所信用的建立，最根本的在于期货交易结算制度中要有中央对手方机制的安排。但在相当长的一段时间里，我国期货市场对这个制度的认识是模糊的，只知道逐日盯市可以保证市场的安全和防范风险，不知道逐日盯市仅仅是中央对手方制度应该包含的重要内容之一。中央对手方制度才是期货市场长此以往的根本保证，这是从发达国家期货市场100多年的发展实践中总结出来的经验。贺涛的研究说：“郑州商品交易所在批发市场阶段，基本上由买卖双方自行结算；期货交易阶段，明确实行每日结算，但对如何结算，规则仅规定了基本程序，对持仓差价和平仓盈亏具体结算方法规定较原则化。深圳有色金属交易所对持仓差价和平仓盈亏规定较笼统，从交易规则本身看不出如何结算。上海金属交易所初期只明确交易所统一结算，没有明确实行逐日盯市的每日结算，而且其规定对保证金可以用银行保函代替；当会员当日应交保证金在银行保证金账户存款总额25%以下时，不需要追加保证金；会员平仓盈余每个月结算划转一次到会员账户中，这些规定与期货保证金控制风险理论要求有一定的差距。相比较，上海粮油食品交易所结算规定较细致、明确和完善，最早明确实行逐日盯市和一次净额交收办法，这对发挥保证金控制期货风险作用是较为有利的；而且对于平仓盈亏、持仓盈亏及应追加（清退）的保证金如何清算规定得比较清晰明了，从规则角度看是符合国际惯例的期货交易结算方式。”[24]对贺涛这个研究，也许存在各种争论，但对于本书想说明的观点，即初期我国期货市场对中央对手方清算的认识不够清晰，还是有证明作用的。我国期货市场在一段时间里，一些交易所仅仅把自己看成是期货合约交易双方履约的监督者而不是作为买方的卖方和卖方的买方，认为交易所不应该介入交易双方成为各自的对手方并承担履约责任。2011年我们在修改《期货条例》时，一些期货界人士就反对把中央对手方机制明确写入《期货条例》中。如果期货交易所仅仅是期货交易结算的监督者，这就和现在支付宝的第三方支付功能一样。其实期货市场100多年来之所以能够安全运行，就在于它是建立在中央对手方制度基础上的，就在于它是所有买方的卖方和所有卖方的买方，这样让所有交易者都能够放心大胆地交易，因为交易所为交易双方提供了信用，交易者不愁拿不到钱、收不到货。</p>
<p>从我国期货市场建立早期到2012年版《期货条例》出台之前，期货市场各方包括期货监管部门，对这一点也是没有达成共识的。2004年，上海期货交易所在处理橡胶期货风险时，按照当时交易所的结算交割制度规定介入交易对手双方之间，作为买方的卖方和卖方的买方，由交易所将买方存放在交易所的仓单（按照交易所规定，仓单和有价证券可以作为保证金使用，而当时交易所握有该买方的仓单的价值量远远大于其应向卖方支付的资金的量）作为抵押，向卖方支付了资金。上海期货交易所以自己的信用保证合约履行，用中央对手方机制成功化解了交易对手方可能存在的违约风险。这是我国期货市场上首个期货交易所明确地用中央对手方机制防范和化解风险的案例，但是在当时，业界包括监管部门有一部分意见并不认同中央对手方机制在期货市场防范化解风险的作用。为此，上海期货交易所按照规则运用中央对手方机制的行为，还引发了一场关于期货市场是否采用中央对手方机制的争论。一些观点认为，交易所不该介入买卖双方，成为买方的卖方和卖方的买方，不该去替可能违约的一方去履约，而应该对违约方的仓单进行拍卖，以拍卖所得来支付给对手方。上海期货交易所认为这不仅不能化解风险，而且还将引发风险。因此，上海期货交易所坚持用中央对手方机制化解了此次风险，从而成为多年来第一次明确运用中央对手方清算应对风险的案例，为以后中央对手方入法提供了实践参照。</p>
<p>2006年6月，我从上海期货交易所调回证监会工作后，代表证监会参与了国务院法制办主导的《期货条例》的第一次修改。基于多年的市场实践，我们认为期货市场的稳定健康发展，需要中央对手方制度作为保障，力推将中央对手方制度明确写入修改后的《期货条例》中。但当时争论比较大，尤其是期货交易所之间还有不同的意见。因此，2007年版的《期货条例》中没有中央对手方制度的法律安排，其表述是期货交易所“保证合约的履行”，没有明确写入期货交易所是中央对手方的内容。</p>
<p>2011年，我国启动了《期货条例》的第二次修改，我又代表证监会与国务院法制办一起组织修法的市场调研。在与相关部委、市场各方的讨论中，对于中央对手方入不入法，还是有不同的声音。有一些人认为不应该写入，他们仍然认为期货交易所是期货交易的担保人，不是期货交易关系的当事人，只为期货交易提供担保。因此，在《期货条例》中不宜将期货交易所具有“买方的卖方，卖方的买方”的中央对手方地位写明确。但证监会立场坚定，坚持要把中央对手方制度写进修改后的《期货条例》中，因为那时2008年金融危机已经在美国发生并影响全球，场外衍生品市场的风险传递是危机发生的一个非常重要的原因，而核心问题就是场外衍生品市场没有实行中央对手方清算制度。西方所有的期货交易所都有法律认可的中央对手方清算制度安排，这个制度保证了金融危机中期货市场没有出现违约情况，从而防止了风险蔓延、传递到期货市场。2009年，G20匹兹堡首脑峰会上与会的各国领导人承诺，在场外衍生品市场推广期货市场的中央对手方清算制度，我国时任国家主席胡锦涛参加了这次会议。但在我国法律法规中，一直对期货交易所的中央对手方地位缺乏明确的规定，期货交易所在按此采取措施防范化解风险时存在法律风险，需要在这次《期货条例》修改中明确期货交易所作为中央对手方的法律地位。</p>
<p>中央对手方入不入法争论激烈，难以达成共识。当时，讨论主要集中在四个问题上：一是，什么是中央对手方，为何期货市场要采用中央对手方制度？二是，国外期货市场中央对手方制度是何模样？三是，中央对手方制度的理论依据如何？四是，中央对手方制度为何在法律上要有安排？由于市场各方没有完全达成共识，有关部门对把中央对手方制度直接写进《期货条例》中有畏难情绪。他们说，这个制度国外是什么样还不清楚，国内研究也不充分，他们提出让证监会提供关于国外期货交易所中央对手方制度的理论书籍或者文章。那时国外这类书籍和文章在国内翻译的不多，大家对国外的期货交易结算交割制度有一定的了解，但缺乏全面系统的研究，证监会也一时难以从国外经验和理论依据上向相关部门提供完整和系统的答案。</p>
<p>当时《期货条例》修改的主持者、国务院法制办领导认为，目前还是求同存异，抓紧《期货条例》修改出台，待以后把国外中央对手方制度研究清楚后，起草《期货法》时体现在法律里面。作为妥协，有关各方当时达成的共识是：“在《期货条例》正文中对中央对手方的表述可以模糊些，在修改说明中进行具体表述。这样把条款正文和修改说明结合起来读，证监会的立场也能体现出来。”于是在《期货条例》里写了一条，即“期货交易所为期货交易提供集中履约担保”，同时在修改说明中写上“期货交易所在统一组织结算中，作为交易各方的中央对手方的地位是明确的”。这两条结合起来，期货交易所中央对手方的地位就很明确了。这样的表述虽然不是最理想的，但中央对手方的意思总算入法了。由此统一了市场各方对“集中履约担保”的理解，即《期货条例》相关条文确立的是中央对手方制度，“期货交易所为期货交易提供集中履约担保”指的正是期货交易所作为中央对手方确保合约的履行。此外，《期货条例》和相关部门规章以及司法解释中都有进一步细化的规定，如《期货条例》第40条第1款规定：“会员在期货交易中违约的，期货交易所先以该会员的保证金承担违约责任；保证金不足的，期货交易所应当以风险准备金和自有资金代为承担违约责任，并由此取得对该会员的相应追偿权。”[25]自有资金是中央对手方应对违约风险的最后一道防线，上述规定实际上是要求期货交易所以自己的信用保证合约履行，间接反映出我国现有法规要求期货交易所履行中央对手方的职责。在此基础上，国内4家期货交易所在各自的业务规则中都建立了相应的违约处理规则和程序。可以说，从2012年起，我国期货市场已经建立起中央对手方的法规规则体系。</p>
<p>但是，该法规规则体系还面临法律层级较低的问题，与国际标准相比还有一定的差距。2004年国际金融组织发布的《中央对手方建议》中规定：“中央对手方应当在所有相关司法管辖范围内具有稳健的、透明的、可执行的法律框架。”2012年《金融市场基础设施原则》中进一步强调：“在所有相关司法管辖内，就其活动的每个实质方面而言，金融市场基础设施（FMI）应该具有稳健的、清晰的、透明的并且可执行的法律基础。”国际金融组织先后对我国开展的两次FSAP评估，均认为中国期货市场已经建立了中央对手方制度，基本符合国际标准。但第一次FSAP评估（当时还是2007年版的《期货条例》，中央对手方评估的国际标准是《中央对手方建议》）结果认为，我国现行《期货条例》和相关规则、细则“涵盖了清算方面的大多数关键概念，但不是以成文法的形式”，并认为“鉴于没有针对期货交易的成文证券法律，因而法律框架存在重大缺失”。第二次FSAP评估（已经是2012年版的《期货条例》，中央对手方评估的国际标准是《金融市场基础设施原则》）结果认为，关于我国期货市场中央对手方制度安排的法律层级仅仅是国务院行政法规，应该上升为全国人大的法律。虽然在第二次评估中，我国期货市场中央对手方制度已经有了成文法的形式，但法律层级依然较低。</p>
<p>2013年起草《期货法》时，关于中央对手方制度的书籍和文章翻译到国内的越来越多，其中有一本书就是前面多次提到的《全球风控家——中央对手方清算》。这本书详细而通俗地介绍了中央对手方清算的理论和国外期货交易所100多年来的实践。我看完该书，发现第二次修改《期货条例》时讨论的4个问题都能在书中找到答案。为此，我还专门写了一篇读后感[26]，向更多的关心期货市场的读者推荐该书。随着了解中央对手方制度的人越来越多，在全国人大财经委牵头组织的关于《期货法》草稿的多次讨论中，将中央对手方制度写入《期货法》的呼声很高。相关各方对这一制度保障期货市场安全运行的认识越来越全面和深入，达成了高度共识。目前，《期货法》草案中已经非常明确地将中央对手方清算作为期货交易所（内设结算部门）和期货结算机构的重要制度写入。</p>
<p>场外市场：需要中央对手方清算新安排</p>
<p>金融危机期间雷曼公司场内场外冰火两重天的际遇，让人们看到中央对手方清算制度在控制风险方面具有不可替代的作用。人们说，雷曼持有大量的场外信用衍生品头寸违约是其破产的一个重要原因。时任美国总统乔治·布什（GeorgeBush）在2008年G20华盛顿首脑峰会期间，强调了加强场外信用衍生品市场的基础设施建设以降低系统性风险的重要性。美国总统对这样一个专业性、技术性的制度发表这么微观的意见，说明这个制度对危机控制和防范的作用已经被国家领导人放到政治层面来考虑了。</p>
<p>场内、场外衍生品有如下几个共同特点。一是都是为满足某种需要所产生的合约，买卖双方关于权利、义务的细节达成一致。标准化合约在交易所挂牌交易，双方谈判议价的衍生品在柜台市场中交易。二是采用保证金交易制度，即在注册交易时，投资者只需要向清算所支付交易额的一定比例资金即可。三是衍生品合约与股票不同，都是远期交割的，一般少至几周，多至几个月、几年等才会到期，并且很少持有到期交割的合约。四是与证券融资投资不一样，衍生品提供的是套期保值与管理风险。这些特点突出了中央对手方清算机制介入交易的必要性。因此，如果把场内、场外衍生品放到同一部法律中，如美国《商品交易法》那样，对我国市场进行规范，将是一件合情合理、有依有据、低投入高产出的事情。</p>
<p>其实，美国在2008年危机之前的好几年，就开始探讨在场外衍生品市场引入中央对手方清算机制的可能性，拟将其写入美国《商品交易法》中。2000年，克林顿总统任期届满前，通过修改的《商品期货现代化法案》，对场外衍生品交易进行了监管豁免。但2001年安然事件后（祸起场外能源衍生品，因此被称为“安然漏洞”），美国期货和衍生品市场的主要监管机构CFTC已经开始意识到场外衍生品市场可能引发系统性风险，当时的CFTC主席坚决要求将场外衍生品交易纳入监管，并着手推动中央对手方清算介入场外衍生品市场，但因阻力太大，尤其是当时美联储的掌门人格林斯潘认为市场会自己调整自己，管理自己的风险，坚持市场比监管者更聪明的论断，使这一行动受到极大影响。随着雷曼的崩塌，场外衍生品市场引发的系统性风险随之扩散，由流动性危机触发金融危机，金融危机触发经济危机并波及全球。场外衍生品市场纳入中央对手方清算又回到了政治家和监管者的议题中。危机后，在场外衍生品交易中引入中央对手方清算制度得到大力推进。2009年G20匹兹堡峰会公报中也列入这一内容，欧美的监管部门将其作为一项监管的重要事项列入了重要议程，目前欧美正在逐步实施。我国场外衍生品市场尚处于发展初期，法律制度是否应有所安排值得思考。</p>
<p>跨境合作：中央对手方需要国际监管协调“没有此类情况，这一条不适用”。这是中国证监会在国际金融组织评估时的回答。国际金融组织对中国期货市场中央对手方制度的检查评估中有一条，即“在中央对手方为跨境交易提供清算服务时，相关监管机构之间应该有良好的合作与协调”。当时中国期货市场还没有对境外参与者开放，因此关于中央对手方的跨境监管是否有良好的合作与协调还谈不上，只能做如上回答。但是随着我国期货市场对外开放加速推进，上海期货交易所上市了面向全球投资者的原油期货，大连商品交易所的铁矿石期货也引入了境外交易者，境外投资者参与我国期货市场的程度逐步加深，简单地回答“不”看来是不行了。目前，我国和美国、欧洲许多国家的监管机构都签署了监管合作备忘录。但是具体到期货市场上，还未真正遇到需要监管机构间相互协作和配合的问题。国际监管协调与合作对于跨境风险的防范化解意义极大，需要抓紧准备和谋划。</p>
<p>中央对手方清算所跨境监管协作具有防范风险加深和扩散的极端重要性。还是拿雷曼破产说事儿。金融危机时，雷曼在美国、欧洲和亚洲的期货交易所都有未平仓头寸。因为破产，全球相关交易所和清算所都行动起来，采取措施防止雷曼破产带来的冲击。由于法律管辖的国家和地区的不同，在执行制度的操作上遇到了一些困扰。由此引发了两个问题：一是在全球化的今天，如何协调和监管跨国（地区）的交易清算引发的系统性风险；二是如何适用和协调各个主权国家的法律管辖权问题。比如美国的破产法重点在于维持受困公司的持续经营，而英国法律规定，破产管理人的主要职责是保护和变现公司资产，为债权人利益负责，并且对所有债权人一视同仁。《全球风控家——中央对手方清算》写道，当伦敦清算所的专业人员意欲在雷曼破产后的第一个周一冲进雷曼欧洲投行（伦敦）的办公楼处理和对冲数万亿美元的未平仓合约时，被破产管理人普华永道挡在了门外，并将处理时间延误了一整天，直到监管当局介入后，清算所才得到管理人的配合。前者声称按照英国法律行事，后者则说要按照美国法律处理（雷曼总部在纽约）。按照雷曼公司规定，全球所有子公司的现金在当天交易结束后都要全部返回美国，集中在雷曼纽约公司存放，第二天再返回境外，所以每天早上所有的子公司都得靠美国那边发放的资金来应付当天的支出。而雷曼纽约公司总部9月15日寻求破产保护之后，没有将上周末集中到美国的80亿美元放回英国，而这80亿美元正是雷曼伦敦公司周一在期货交易所开盘后急需用到的。后来通过两国监管部门之间的紧急协调，虽然耽误了一些时间，但最后雷曼的问题在欧洲期货交易所的清算没有造成违约事件，保证了市场的稳定，防范了系统性金融风险的发生。又比如，美国制度规定，清算所必须把客户和会员自营的资金账户与头寸分开来管理，进行“客户账户隔离”。而英国的监管要求与美国不一样，英国不要求金融机构的自有资金与客户资金在清算所内隔离。</p>
<p>由于各国法律和监管方式不同，如果国家间的风险控制和监管协作处理不好，就可能把一国国内的风险传递到他国，从而导致全球的系统性风险蔓延与扩散。随着我国原油期货国际交易平台的上线运行和铁矿石期货引入境外交易者业务的启动，我国期货市场对外开放已经迈出关键性的步伐。国际投资者进入原油期货和铁矿石期货市场后，我国还将继续开放有色金属等其他商品期货品种，会有大量的国际投资者参与我国期货市场交易。境外交易者的增加、交易规模的扩大，跨境交易可能遇到的清算风险是绕不开的坎儿。在与境外市场制度差异、语言不同、人员交流不够的情况下，如何应对现在就应该抓紧研究、及早谋划、有所安排。尤其是正在起草的《期货法》中，对跨境风险控制、监管上与其他国家的合作与协调方面应有清晰的制度安排。同时，在证监会层面与相关国家监管机构间的合作备忘录的条款应该越来越具体；在境内外交易所和清算所层面都应有具体的合作协议和清晰的条款安排。另外，人员之间的经常性交流十分必要，“混个脸熟”对今后处置跨境风险传递是十分重要的人脉因素。</p>
<p>破三角债：吸引中国企业踏上期货之路</p>
<p>中央对手方的信用，曾经吸引了许多中国企业参与期货市场，尽管它们是不知不觉中撞入的。</p>
<p>2003年秋，我当时还在上海期货交易所工作，带队去江西鹰潭的江西铜业公司开展期货市场套期保值效果评估调研。江西铜业是一家利用国内外期货市场套期保值交易比较成功的大型企业。集团当时的总经理何昌明对我们说：“别看我们目前的经营管理已经离不开期货市场了，可当初参加期货交易是懵懵懂懂、误打误撞，一开始参与期货市场的目的不是套期保值而是卖货。”他说，包括江西铜业在内的中国铜企业参与期货市场大体分为三个阶段：第一个阶段解决了它们卖货收回货款的问题；第二个阶段是注册品牌问题，它们在上海期货交易所注册了阴极铜交割品牌，市场对它们的产品就有了信心，有了信任。产品质量有保障，卖出去的价格就比非注册品牌的价格高。第三个阶段才是利用期货市场定价和套期保值服务生产经营。1992—1994年是第一个阶段，那时它们根本就不懂什么叫发现价格、套期保值。只知道在期货市场卖货回款快，没有“三角债”之虑。他说，他们有一部分阴极铜是计划外的，按照政策规定公司可以按照市场价卖，于是在期货市场卖了一批货，回款特别快，他们非常惊喜，发现没有现货市场长期存在的拖欠货款的情况发生。那时企业之间的“三角债”很麻烦，于是，他们决定将所有的计划外阴极铜都在期货市场上卖。这个阶段的期货市场，帮助江西铜业等一批铜企业解决了“三角债”难题。何昌明回顾说，20世纪90年代初期，由于我国企业间存在大量的“三角债”，使得企业的经营压力与风险日益增大。由于全社会信用机制不健全，企业间违约司空见惯，一旦交易对手发生违约，即使通过法律追索也往往没有结果，货款追不回来，企业损失惨重。到1992年底，江西铜业未收回的货款总额高达一亿多元。也就在这一年，江西铜业进入期货市场，由于期货交易所具备履约保证功能，为企业提供了更加安全的规避信用风险的途径。因此从1993年开始，江西铜业发了内部文件，规定两个“一律”：凡是不能以现金交易方式收回货款的合同一律取消；销售计划内的富余产品一律由上海金属交易所（后并入上海期货交易所）通过期货交易卖出，以实物交割履约收回货款。1993年江西铜业全年的电解铜产量为9万吨，其中50%通过期货交易方式卖出。到2003年我们去调研时的10年中，江西铜业通过期货市场卖出的货物货款回笼率100%，成功避免了“三角债”问题。</p>
<p>从这位企业领导人口中，我们听到了期货市场中央对手方机制的作用。尽管那时，中国的法规规则和规范性文件里没有明确写上中央对手方制度。但是，因为早期期货市场的探索者从西方囫囵吞枣地学习，上海期货交易所把中央对手方制度的一些东西零零散散搬了过来，体现在交易所的交易结算规则之中。有色金属企业觉得在期货市场销售阴极铜回款快，不存在令人烦心的“三角债”问题，踊跃参与期货交易。这些参与期货交易的企业歪打正着，保证了企业能够及时收回销售货款。就凭这一点，吸引了中国有色金属行业的一大批企业积极参与期货市场交易。而今天中国已经有3万多家企业直接参与期货市场交易，还有很多中小企业出于各方面的考虑[27]，以企业主个人名义参与。其中，有色金属行业是我国利用期货市场最为成功的工业制造行业，全行业基本上都参与期货市场交易，在本书前面的叙述中多有提及，在此不再赘述。</p>
<!-- flag of hidden posts -->
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/发现价格：期货和金融衍生品/" rel="tag"># 发现价格：期货和金融衍生品</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="CheBin">
            
              <p class="site-author-name" itemprop="name">CheBin</p>
              <div class="site-description motion-element" itemprop="description">强迫自己去看，去做。</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">726</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">56</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          


          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <!-- modify icon to fire by szw -->
                <i class="fa fa-history fa-" aria-hidden="true"></i>
                近期文章
              </div>
              <ul class="links-of-blogroll-list">
                
                
                  <li>
                    <a href="/2022/10/10/结课测试-这些Go语言的知识你都掌握了吗？/" title="结课测试 | 这些Go语言的知识你都掌握了吗？" target="_blank">结课测试 | 这些Go语言的知识你都掌握了吗？</a>
                  </li>
                
                  <li>
                    <a href="/2022/10/10/49-程序性能分析基础（下）/" title="49 | 程序性能分析基础（下）" target="_blank">49 | 程序性能分析基础（下）</a>
                  </li>
                
                  <li>
                    <a href="/2022/10/10/48-程序性能分析基础（上）/" title="48 | 程序性能分析基础（上）" target="_blank">48 | 程序性能分析基础（上）</a>
                  </li>
                
                  <li>
                    <a href="/2022/10/10/47-基于HTTP协议的网络服务/" title="47 | 基于HTTP协议的网络服务" target="_blank">47 | 基于HTTP协议的网络服务</a>
                  </li>
                
                  <li>
                    <a href="/2022/10/10/46-访问网络服务/" title="46 | 访问网络服务" target="_blank">46 | 访问网络服务</a>
                  </li>
                
              </ul>
            </div>
        

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#一枝独秀：金融危机中的“不倒翁”"><span class="nav-number">1.</span> <span class="nav-text"> 一枝独秀：金融危机中的“不倒翁”</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#演进完善：中央对手方清算制度"><span class="nav-number">2.</span> <span class="nav-text">演进完善：中央对手方清算制度</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#管理风险：中央对手方全球落地生根"><span class="nav-number">3.</span> <span class="nav-text">管理风险：中央对手方全球落地生根</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#法律规定：中央对手方实现的基础"><span class="nav-number">4.</span> <span class="nav-text">法律规定：中央对手方实现的基础</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2022</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CheBin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">6.6m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">99:35</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
