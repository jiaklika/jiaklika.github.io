<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="思考并回答以下问题：  什么是锤子线和上吊线？ 锤子线出现在下降趋势中，就是下降趋势即将结束的信号。怎么理解？ 只有把价格形态与它之前的价格变化相结合，进行通盘的考虑，才能准确把握价格形态的意义。怎么理解？ 看涨吞没形态和看跌吞没形态分别是什么样子的？ 仅当反转信号所指的方向与市场的主要趋势方向一致时，我们才可以依据这个反转信号来开立新头寸。怎么理解？ 假定在牛市的发展过程中，出现了一个顶部反转形">
<meta name="keywords" content="日本蜡烛图技术（第2版）">
<meta property="og:type" content="article">
<meta property="og:title" content="第四章 反转形态">
<meta property="og:url" content="http://yoursite.com/2021/01/17/第四章-反转形态/index.html">
<meta property="og:site_name" content="车斌的技术博客">
<meta property="og:description" content="思考并回答以下问题：  什么是锤子线和上吊线？ 锤子线出现在下降趋势中，就是下降趋势即将结束的信号。怎么理解？ 只有把价格形态与它之前的价格变化相结合，进行通盘的考虑，才能准确把握价格形态的意义。怎么理解？ 看涨吞没形态和看跌吞没形态分别是什么样子的？ 仅当反转信号所指的方向与市场的主要趋势方向一致时，我们才可以依据这个反转信号来开立新头寸。怎么理解？ 假定在牛市的发展过程中，出现了一个顶部反转形">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/1.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/2.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/7.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/8.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/9.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/10.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/11.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/12.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/13.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/14.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/15.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/16.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/17.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/18.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/20.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/21.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/22.jpeg">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/23.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/24.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/25.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/26.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/27.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/28.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/29.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/30.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/33.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/34.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/35.png">
<meta property="og:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/36.png">
<meta property="og:updated_time" content="2021-11-05T08:39:49.545Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第四章 反转形态">
<meta name="twitter:description" content="思考并回答以下问题：  什么是锤子线和上吊线？ 锤子线出现在下降趋势中，就是下降趋势即将结束的信号。怎么理解？ 只有把价格形态与它之前的价格变化相结合，进行通盘的考虑，才能准确把握价格形态的意义。怎么理解？ 看涨吞没形态和看跌吞没形态分别是什么样子的？ 仅当反转信号所指的方向与市场的主要趋势方向一致时，我们才可以依据这个反转信号来开立新头寸。怎么理解？ 假定在牛市的发展过程中，出现了一个顶部反转形">
<meta name="twitter:image" content="http://yoursite.com/2021/01/17/第四章-反转形态/1.png">






  <link rel="canonical" href="http://yoursite.com/2021/01/17/第四章-反转形态/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>第四章 反转形态 | 车斌的技术博客</title><meta name="robots" content="noindex">
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">车斌的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">放弃会成为一种习惯</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/17/第四章-反转形态/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CheBin">
      <meta itemprop="description" content="看视频才能学会，看文字学不会的">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="车斌的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">第四章 反转形态

              
            
          </h1>
        

        <div class="post-meta">

          

          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2021-01-17 20:24:43" itemprop="dateCreated datePublished" datetime="2021-01-17T20:24:43+08:00">2021-01-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2021-11-05 16:39:49" itemprop="dateModified" datetime="2021-11-05T16:39:49+08:00">2021-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/期货/" itemprop="url" rel="index"><span itemprop="name">期货</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">14k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">13 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>思考并回答以下问题：</p>
<ul>
<li>什么是锤子线和上吊线？</li>
<li>锤子线出现在下降趋势中，就是下降趋势即将结束的信号。怎么理解？</li>
<li>只有把价格形态与它之前的价格变化相结合，进行通盘的考虑，才能准确把握价格形态的意义。怎么理解？</li>
<li>看涨吞没形态和看跌吞没形态分别是什么样子的？</li>
<li>仅当反转信号所指的方向与市场的主要趋势方向一致时，我们才可以依据这个反转信号来开立新头寸。怎么理解？</li>
<li>假定在牛市的发展过程中，出现了一个顶部反转形态，该怎么办？</li>
<li>当上吊线出现时，一定要等待其它看跌信号的证实，这一点特别重要。为什么呢？</li>
<li>上吊线的实体与上吊线次日的开市价之间向下的缺口越大，那么上吊线就越有可能构成市场的顶部。怎么理解？</li>
<li>看涨的刺透形态与看涨吞没形态同属一个家族。有什么区别和联系?</li>
</ul>
<a id="more"></a>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a><span style="color:#339AFF;">前言</span></h1><p>“一寸光阴以后的事都难预知”。</p>
<p>技术分析师瞪大眼睛盯着价格的涨落，为的是及早发现市场心理变化和趋势变化的警告信号。反转价格形态就是这样的技术线索。</p>
<p>然而，从一定意义上来说，“反转形态”这一术语的用词是不准确的。听到反转形态这个术语，往往使人误以为现有趋势将会突兀地结束，立即反转为新的趋势。实际上，这种情况很少发生。趋势的逆转，一般都是伴随着市场心理的逐渐改变进行的，通常需要经过一个缓慢的、分阶段的演变过程。</p>
<p>确切地说，趋势反转信号的出现，意味着之前的市场趋势可能发生变化，但是市场并不一定就此逆转到相反的方向上。弄清楚这一点，是至关重要的。我们不妨用行驶中的汽车来打个比方。一场上升趋势就相当于一辆以时速30英里前进的汽车。汽车的刹车灯亮了，汽车随后停了下来。刹车灯相当于趋势反转信号，它表明先前的趋势（相当于汽车向前行驶）即将终止。现在，汽车静止不动，那么下一步，司机是打算调头向相反方向行驶呢？还是停在那里不动呢？亦或是继续向前行驶呢？如果没有更多的线索，我们根本无从知晓。</p>
<p>图4.1到图4.3分别显示的是，当同一种顶部反转形态出现后，市场可能会经历的各种不同的变化过程。在图4.1中，市场从之前的上升趋势先转化为一段横向调整的行情，然后再开始形成方向相反的新趋势。在图4.2中，市场后来重新恢复到原先的上升趋势之中。在图4.3中，市场原先的上升趋势突然掉转为下降趋势。</p>
<img src="/2021/01/17/第四章-反转形态/1.png">
<p>把反转形态理解成趋势变化形态，才是慎重可取的考虑。因此请务必留意，“反转形态”这个术语仅仅意味着之前的趋势将发生变化，但是未必一定会反转。</p>
<p>及时判别反转形态的发生，是一项极有实用价值的市场分析技巧。交易的成功，需要两个方面的保证，既要能够正确地把握趋势、追随趋势，也要能够正确地把握趋势即将发生变化的各种可能性。反转形态，便是市场以其特有的方式为我们提供的一种指路牌，牌子上写着：“当心！趋势正在发生变化。”也就是说，市场的心理状态正在发生变化。那么，为了适应这种新的市场环境，我们就应当及时调整自己的交易方式。当反转形态出现时，如何建立新头寸，如何了结旧头寸，存在多种多样的选择。本书从头至尾所讨论的，就是相应的各种应对方法。</p>
<p>这里有一条重要原则：仅当反转信号所指的方向与市场的主要趋势方向一致时，我们才可以依据这个反转信号来开立新头寸。举个例子，假定在牛市的发展过程中，出现了一个顶部反转形态。虽然这是一个看跌的信号，却并不能保证卖出做空是有把握的。这是因为，市场当前的主要趋势依然是上升的。无论如何，就这个反转形态的实质意义来说，它构成了了结既有多头头寸的交易信号。如果当前主要趋势为下降趋势，那么，虽然还是这个顶部反转形态，但是它就足以构成卖出做空的凭据了。</p>
<p>关于反转形态这一主题，我们将进行详细深入的探讨，因为在蜡烛图技术中，大部分形态均属于反转信号。现在，就让我们把注意力转向蜡烛图反转信号的第一种类型，锤子线和上吊线。</p>
<h1 id="锤子线和上吊线"><a href="#锤子线和上吊线" class="headerlink" title="锤子线和上吊线"></a><span style="color:#339AFF;">锤子线和上吊线</span></h1><p><a href="https://v.douyin.com/eeDR5UK/" target="_blank" rel="noopener">锤子线</a><br><a href="https://v.douyin.com/eeAp9jb/" target="_blank" rel="noopener">吊颈线</a></p>
<p>如图4.4所示的蜡烛图线具有明显特点。它们的下影线较长，而实体较小，并且在其全天价格区间里，实体处在接近顶端的位置上。在本图上，我们同时列出了黑白两种蜡烛线。有趣的是，这两条蜡烛线都既可能是看涨的，也可能是看跌的，具体情况要由它们在趋势中所处的位置来决定。</p>
<img src="/2021/01/17/第四章-反转形态/2.png">
<p>在这两种蜡烛线中，不管是哪一个，只要它出现在下降趋势中，那么，它就是下降趋势即将结束的信号。在这种情况下，这种蜡烛线称为锤子线，意思是说“市场正用锤子夯砸底部”。请看图4.5。在日语里，这类蜡烛线原来的名称是“深水竿”。这个词在日文中大体的意思是“试一下水的深浅。”</p>
<p>在图4.4所示的两种蜡烛线中，无论哪一种，如果出现在上冲行情之后，就表明之前的市场运动也许已经结束。显而易见，这类蜡烛线就称为上吊线（如图4.6所示）。上吊线的名字是从它的形状得来的，这类蜡烛线看上去就像吊在绞刑架上双腿晃荡的一个死人。</p>
<p>形状相同的蜡烛线，有时是看涨的，有时又是看跌的，这取决于它在市场趋势中所处的位置。</p>
<p>我们可以根据三个方面的标准来识别锤子线和上吊线：</p>
<ul>
<li>1、实体处于整个价格区间的上端。而实体本身的颜色是无所谓的。</li>
<li>2、下影线的长度至少达到实体高度的2倍。</li>
<li>3、在这类蜡烛线中，应当没有上影线，即使有上影线，其长度也是极短的。</li>
</ul>
<p>在看涨的锤子线的情况下，或者在看跌的上吊线的情况下，其下影线越长、上影线越短、实体越小，那么，这类蜡烛线就越有意义。虽然锤子线或者上吊线的颜色既可以是白的，也可以是黑的，但是，如果锤子线的实体是白色的，其看涨的意义则更坚挺几分；如果上吊线的实体是黑的，其看跌的意义则更疲软一点。如果锤子线的实体是白色的，就意味着在当天的交易过程中，市场起先曾急剧下挫，后来却完全反弹上来，收市在当日的最高价处，或者收市在接近最高价的水平上。这一点本身就具有小小的看涨的味道。如果上吊线的实体是黑色的，就表明当日的收市价格无力向上返回到开市价的水平。这一点或许就有潜在的看跌意味。</p>
<p>当上吊线出现时，一定要等待其它看跌信号的证实，这一点特别重要。为什么呢？当中的缘由要从上吊线的形成过程说起。通常，在出现这种蜡烛线之前，市场充满了向上的冲劲。突然，上吊线出现了。在上吊线这一天，市场的开市价就是当日最高价（或者当日的开市价接近最高价）。之后市场一度剧烈下跌，后来再上冲，最后收市于最高价的水平，或者接近最高价的水平。从上吊线的价格演化过程本身看来，未必令人联想到顶部反转形态。然而，这个价格变化过程预示着，一旦市场遭到空方的打压，就会不堪一击，迅速引发市场的向下突破。</p>
<p>次日，如果市场开市在较低的水平，那么，凡是在上吊线当日的开市、收市时买进的交易商，现在统统背上了亏损的头寸，被“吊”在上面。综合上述分析，我们就得到了关于上吊线的一条普遍原则：上吊线的实体与上吊线次日的开市价之间向下的缺口越大，那么上吊线就越有可能构成市场的顶部。在上吊线之后，如果市场形成了一条黑色的实体，并且它的收市价低于上吊线的收市价，那么，这也可以看作上吊线成立的一种佐证。</p>
<p>图4.7所示的实例颇精彩，从中我们可以看到，同样一种蜡烛线既可以是看跌的（如7月3日的上吊线），也可以是看涨的（如7月23日的锤子线）。尽管在这个实例中，上吊线和锤子线的实体都是黑色的，但是它们实体的颜色并没有太大意义。</p>
<blockquote>
<p>图4.7 大豆油——1990年12月，日蜡烛线图（上吊线和锤子线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/7.png">
<p>图4.8是另一个实例，也显示出了这类蜡烛线的双重特性。</p>
<blockquote>
<p>图4.8 道琼斯工业股票平均指数——1990年，日蜡烛线图（上吊线和锤子线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/8.png">
<p>如图所示，4月中旬有一个看跌的上吊线，它标志着市场先前的上涨行情的终止，而这轮上涨行情是从4月2日的一条看涨的锤子线开始的。3月中旬，出现了另一个上吊线的变体。虽然这条变体上吊线的下影线也比较长，但未能达到实体高度的2倍。不过，另外两项标准它还是满足的（即它的实体位于当日价格区间的上端，并且它几乎没有上影线）。再往后看，次日的收市价低于这根蜡烛线的收市价，因而构成了它的验证信号。综合起来，尽管这条蜡烛线不是理想的上吊线，但它也是成立的。如图所示，这条蜡烛线确实成功地标志着起步于1个月之前的上涨行情的结束。蜡烛图技术为我们提供了一套图表分析要领，这一点与其它图表分析技术或者其它形态识别技术是一致的。然而，我们应当清楚地了解，这些要领并不是一成不变的定律。</p>
<p>前面曾经交代，对上吊线和锤子线形态来说，特定的图形特征能够加强它们的技术意义。但是，正如本图3月中旬的上吊线所示，上吊线下影线的长度并不是非得达到实体高度的2倍不可，才足以构成反转信号。<span style="color:red">一般说来，在这类形态中，下影线越长，形态就越完美。</span></p>
<p>在图4.9所示的实例中，出现了一系列的看涨锤子线，我们用从1到4的数字给它们作了记号（锤子线2虽然有一段小小的上影线，但我们还是把它看作一根锤子线）。</p>
<blockquote>
<p>图4.9 铜——周蜡烛图（锤子线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/9.png">
<p>本例的有趣之处是这张图表于1990年初发出的那个买入信号。在锤子线3和锤子线4上，市场曾经两度向下越过了锤子线2处的7月份的低点，两度创出新的低价位（新低）。然而，熊方没能乘机扩大战果，继续把球控制在己方脚下。他们失了手，球丢了。这两条锤子线（3和4）表明，牛方重新执掌了市场的主动权。锤子线3并不是一条理想的锤子线，因为它的下影线达不到实体高度的2倍。但是，这条蜡烛线确确实实地显示，熊方没有能力维持新低价格水平。紧接着，下一周又是一根锤子蜡烛线，这就再度强调了如下的结论：很可能即将发生底部反转过程。</p>
<p>在图4.10中，锤子线1和3都属于底部形态。锤子线2标志着先前的下降趋势的结束，于是市场趋势从下降转为横向延伸。锤子线4未起作用。这条锤子线就引出了关于锤子线形态分析的一项重要的注意事项（其实，这也是我将讨论的所有其它形态的一个关键点）。<span style="color:red">只有把价格形态与它之前的价格变化相结合，进行通盘的考虑，才能准确把握价格形态的意义。</span></p>
<blockquote>
<p>图4.10 原木——1990年5月，日蜡烛图（锤子线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/10.png">
<p>带着这样的全局观，再来观察一下锤子线4。我们注意到，在这条锤子线的前一天，市场走出了一条极其疲软的蜡烛线。这是一条长长的、黑色的秃头秃脚蜡烛线（全秃蜡烛线，就是说，开市价位于当日最高处，收市价位于当日最低处）。这条蜡烛线清晰地说明，市场具有强劲的向下动力。此外，锤子线4也向下穿透了市场过去在1月24日建立起来的支撑水平。再考虑到前面所分析的看跌因素，那么，当锤子线4出现时，稳妥的做法是，先等一等其它验证信号，看看牛方是否确实已经重新占据了上风，然后见机而作。比如说，如果在锤子线4之后，再出现一根白色的蜡烛线，并且它的收市价高于锤子线4的收市价，那么，后来的这条蜡烛线就可以看作是一个验证信号。</p>
<p>我们也可以采用蜡烛图形式来绘制日内时间单位的图表。在这种情况下，蜡烛线显示的是相应时间段内的最高价、最低价、最初价和最后价（如图4.11所示）。举例来看，如果我们以小时为基本时间单位，那么，每根蜡烛图线将采用相应一小时的最初价和最后价来绘制其实体，而用这一小时的最高价和最低价来绘制上下影线。如果我们仔细地观察这张图表，就会看到，在4月11日的头一个小时，市场形成了一根锤子线。与图4.10中的锤子线4一样，在这根锤子线处，市场也形成了一个向下的价格跳空。但是与之不同的是，在本锤子线之后，跟随着一根白色的蜡烛线，并且这根白色蜡烛线的收市价高于本锤子线的收市价。这对证实市场底部的形成是很有帮助的。</p>
<blockquote>
<p>图4.11 原油——1990年6月，日蜡烛图（锤子线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/11.png">
<p>再看4月12日的第二根小时蜡烛线。虽然它的外形同锤子线有相似之处，但它并不是一根真正的锤子蜡烛线。锤子线属于底部反转形态。在锤子线的判别准则中，其中有一条是，在锤子线之前，必定先有一段下降趋势（哪怕是较小规模的下降趋势），这样锤子线才能够逆转这个趋势。这条蜡烛线也不是上吊线，因为上吊线必须出现在一段上升趋势之后。在本图所示的情况下，如果把这根蜡烛线提高到前一根黑色蜡烛线的顶部附近，那么，我们就可以将它判定为上吊线了。</p>
<p>在图4.12中，4月初有一根锤子线，它成功地预示了一轮持续数月的主要下降行情的终结。这根蜡烛线下影线很长（其长度是实体高度的许多倍），实体很小，又没有上影线，于是就成了一条经典的锤线。</p>
<blockquote>
<p>图4.12 日经指数——1990年，日蜡烛图（锤子线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/12.png">
<p>图4.13显示的是一例经典的上吊线形态。在上吊线出现的这一天，市场向上跳空开市，并由此创出了新的高价位（新高）。第二天，市场向下跳空，于是凡是在上吊线的开市或收市时买进的新多头，都被高高“吊起”，处于亏损状态。</p>
<blockquote>
<p>图4.13 白银——1990年5月，日蜡烛图（上吊线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/13.png">
<p>在图4.14中我们看到，自2月初开始的上升行情随着两条连续的上吊线的到来而宣告破产。在上吊线出现后，还需要其它看跌信号的验证。这一原则的重要性，在本图例中也得到了体现。在上吊线的看跌验证信号中，有一种情况是，次日的开市价低于上吊线的实体，这是为上吊线求得证实的第一个办法。请注意，当第一根上吊线出现后，次日市场是以较高的价格开市的。但是，在第二根上吊线之后，第二天市场终于开市在这条上吊线的实体之下，于是，市场便掉头下行了。</p>
<blockquote>
<p>图4.14 可可——1990年5月，日蜡烛图（上吊线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/14.png">
<p>如图4.15所示，如果在上吊线之后，是一条具有黑色实体的蜡烛线，并且它的收市价低于上吊线的收市价，那么，这种情况也构成了上吊线的看跌验证信号。这是我们为上吊线求得证实的第二个办法。在本图例中，蜡烛线1、2和3形成了一系列上吊线。在上吊线1和2之后，均没有发生看跌验证信号，这就意味着在这两处，上升趋势依然处在照常发展的状态之下。</p>
<blockquote>
<p>图4.15 美元指数——周蜡烛图（上吊线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/15.png">
<p>请注意上吊线3。接踵而来的那条黑色蜡烛线，为这条上吊线提供了看跌验证信号。在上吊线3的次日，虽然市场的开市价几乎没有变化，但是到收市的时候，那些在上吊线的开市或收市时买进的多头，已经统统给“上吊”在亏损状态了（在本例中，在次日这根长长的黑色蜡烛线上，市场的抛售过程激烈到了白热化的程度，以致于凡是在上吊线当日买进的人，不仅仅是那些在开市和收市买进的人，统统被套牢在亏损头寸里）。</p>
<p>图4.16所示，是橙汁市场的一个实例。从1989年底到1990年初，在本图上出现了一段触目惊心的上涨行情。请注意这场上升行情是在何处结束的。1990年的第三周是一根上吊线，挡住了上述涨势。本实例充分说明了下面这个要点：反转形态的出现，并不意味着市场必定向相反的方向逆转。这一点，我们在第三章曾经做过研究。准确地说，反转形态的出现，预示着之前的趋势即将发生变化。本图例中的情形，正是上述分析的现实体现。在图示的上吊线反转形态形成后，之前的上升趋势就结束了，市场演变成了新的横向延伸趋势。</p>
<blockquote>
<p>图4.16 橙汁——周蜡烛图（上吊线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/16.png">
<p>在本图例中，7月里出现了另一条上吊线。这一次，市场很快就从上升反转为下降。但是，正如我们前面曾经反复强调的，当遇上顶部反转形态时，我们不应当总是期待这种情景的出现。</p>
<p>在图4.17中，5月里显示出了一个经典的上吊线形态。从这个蜡烛线的形状来看，其实体极小、没有上影线、下影线很长。次日的黑色实体证实了这根上吊线的可靠性，提示我们，现在是出清多头头寸的时候了（请注意，在本图上，4月初有一个看涨的锤子线）。</p>
<blockquote>
<p>图4.17 美洲航空公司——1989，日蜡烛图（上吊线，锤子线）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/17.png">
<h1 id="吞没形态（抱线形态）"><a href="#吞没形态（抱线形态）" class="headerlink" title="吞没形态（抱线形态）"></a><span style="color:#339AFF;">吞没形态（抱线形态）</span></h1><p><a href="https://v.ixigua.com/eRwWm9f/" target="_blank" rel="noopener">吞没形态</a><br><a href="https://v.douyin.com/eLuqF6g/" target="_blank" rel="noopener">吞没形态</a><br><a href="https://v.douyin.com/eLuDgSq/" target="_blank" rel="noopener">吞没形态的三条判断标准</a><br><a href="https://v.douyin.com/eLuHfCM/" target="_blank" rel="noopener">看涨吞没形态</a><br><a href="https://v.douyin.com/eLunpjH/" target="_blank" rel="noopener">吞没形态的隐藏的秘密（上）</a></p>
<p>锤子线形态和上吊线形态是由单独的一根蜡烛线构成的。如前面所讨论，它们能够就市场的健康情况发出重要的技术信号。不过，在绝大多数情况下，蜡烛图技术信号都是由数根蜡烛线组合在一起形成的。吞没形态（或者说，抱线形态）是我们将介绍的第一类由数根蜡烛线组成的复合形态。吞没形态属于主要反转形态，是由两根颜色相反的蜡烛线实体所构成的。</p>
<p>图4.18显示的是看涨吞没形态（看涨抱线形态）。在本图中，市场本来处于下降趋势之中，但是后来出现了一根坚挺的白色实体，这根白色实体将它前面的那根黑色实体“抱进怀里了”，或者说把它吞没了。这种情形说明市场上买进的压力已经压倒了卖出压力。图4.19是看跌吞没形态（看跌抱线形态）的示意图。在本例中，市场原本正向着更高的价位趋升，但是当前一个白色实体被后一个黑色实体吞没后，就构成了顶部反转的信号。这种情形说明，熊方已经从牛方手中夺走了统治权。</p>
<img src="/2021/01/17/第四章-反转形态/18.png">
<p>关于吞没形态，我们有三条判别标准：</p>
<p>1、在吞没形态之前，市场必须处在清晰可辨的上升趋势或下降趋势中，哪怕这个趋势只是短期的。</p>
<p>2、吞没形态必须由2条蜡烛线组成。其中第二根蜡烛线的实体必须覆盖第一根蜡烛线的实体（但是不一定需要吞没前者的上下影线）。</p>
<p>3、吞没形态的第二个实体必须与第一个实体的颜色相反。这一条标准有例外的情况，条件是，第一条蜡烛线的实体必须非常小，小得几乎构成了一根十字线（或者它就是一根十字线）。如此一来，如果在长期的下降趋势之后，一个小小的白色实体为一个巨大的白色实体所吞没，那么也可能构成了底部反转形态。反之，在上升趋势中，如果一个小小的黑色实体为一个巨大的黑色实体所吞没，那么也可能构成了顶部反转形态。</p>
<p>下面列出了一些参考性要素，如果吞没形态具有这样的特征，那么它们构成重要反转信号的可能性将大大地增强：</p>
<p>1、在吞没形态中，第一天的实体非常小，而第二天的实体非常大。这种情况可能说明原有趋势的驱动力正在消退，而新趋势的潜在力量正在壮大。</p>
<p>2、吞没形态出现在超长期的或非常急剧的市场运动之后。如果存在超长期的上升趋势，则增加了以下这种可能性：潜在的买家已经入市买进，持有多头。在这种情况下，市场可能缺少足够的新的多头头寸的供应，无力继续推动市场上升。如果存在非常急剧的市场运动，则市场可能已经朝一个方向走得太远，容易遭受获利平仓头寸的打击。</p>
<p>3、在吞没形态中，第二个实体伴有超额的交易量。这种情形可能属于胀爆现象（如何在蜡烛图上进行交易量的配合分析，我们将在第十五章讨论）。</p>
<p>4、在吞没形态中，第二天的实体向前吞没的实体不止一个。</p>
<p>如图4.20所示，5月15日和5月22日所在的两个星期组成了一个看涨吞没形态。7月的最后2个星期形成了一个看跌吞没形态。9月份有一个看涨吞没形态，在图示主要上涨行情之前，有一小段抛售行情。它是这段抛售行情的底部。</p>
<blockquote>
<p>图4.20 瑞士法郎——周蜡烛图（看涨和看跌吞没形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/20.png">
<p>图4.21是原油的月蜡烛线图，从中既可以看到看涨吞没形态，也可以发现看跌吞没形态。</p>
<blockquote>
<p>图4.21 原油——月蜡烛图（看涨和看跌吞没形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/21.png">
<p>从1985年末开始，市场走出了一场幅度达20美元的陡直下跌行情。1986年的第3个月和第4个月，先后形成了图示看涨吞没形态的两根蜡烛线。这一形态标志着之前的下降趋势的结束。从这个看涨吞没形态起，发生了一段上涨行情，但是1987年年中的看跌吞没形态给它划上了句号。1988年2月和3月形成的较小的看涨吞没形态，又将从1987年中的看跌吞没形态开始的下降趋势终结了。在这个看涨吞没形态之后，市场从下降趋势转为横向趋势，并持续了5个月之久。</p>
<p>1990年2月是一根黑色的蜡烛线，虽然它也将1月的白色蜡烛线的实体覆盖起来了，但是它超出1月实体的幅度还不到8个基本价格变化单位。从这一点来看，这不是一个理想的看跌吞没形态。然而，在进行蜡烛图技术分析的时候，必须包括一定程度的灵活性，这一点与其它图表分析手段相比并没有什么不同。考虑到本形态内在的种种疲软的迹象，将这个形态认定为看跌吞没形态是稳妥的，如果我们仅仅因为8个基本价格变化单位的差距不够大，而排除了它们构成看跌吞没形态的可能性，那么反倒是非常危险的。所有的图表分析技术都不例外，始终为分析者留有发挥主观判断的余地。</p>
<p>图4.22是另一个很好的实例。请注意7月7日和8日这两天的价格变化。这里的情况与上例类似，第二天与第一天比较，并没有创出新高，如果我们采用西方传统的反转日概念来衡量，那么这里丝毫没有发生顶部反转的迹向。然而，以蜡烛图技术来分析，这却是一个看跌反转信号，即此时市场确实形成了一个所谓的看跌吞没形态。</p>
<blockquote>
<p>图4.22 白金——1989年10月，日蜡烛图（看跌吞没形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/22.jpeg">
<p>6月初有两根蜡烛线，蜡烛线1和2，看上去似乎是一个看涨吞没形态。但是，看涨吞没形态属于底部反转信号。这就是说，它们只有出现在下降趋势之后（或者在有的时候，出现在横向交易区间的下边界）才是成立的。在本图例中，虽然6月初出现了这个形似的看涨吞没形态，但是由于它并不处在下降趋势之中，因此，并不具有通常的预测意义。</p>
<p>在图4.23中，发生了一系列看跌吞没形态。吞没形态1将市场从之前的上升趋势，拖入一段持续了数月的水平交易区间。吞没形态2仅仅为当时的上涨行情带来了短暂的喘息机会。</p>
<blockquote>
<p>图4.23 大豆——周蜡烛图（看跌吞没形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/23.png">
<h1 id="乌云盖顶形态（乌云线形态）"><a href="#乌云盖顶形态（乌云线形态）" class="headerlink" title="乌云盖顶形态（乌云线形态）"></a><span style="color:#339AFF;">乌云盖顶形态（乌云线形态）</span></h1><p><a href="https://v.douyin.com/eLLhR5x/" target="_blank" rel="noopener">乌云盖顶</a><br><a href="https://v.ixigua.com/eL8KAkW/" target="_blank" rel="noopener">乌云盖顶</a><br><a href="https://v.douyin.com/eLLJD35/" target="_blank" rel="noopener">乌云盖顶</a><br><a href="https://v.douyin.com/eLL6v53/" target="_blank" rel="noopener">乌云盖顶</a><br><a href="https://v.douyin.com/eLLLEs8/" target="_blank" rel="noopener">乌云盖顶</a></p>
<p>下面我们要研究的反转形态是乌云盖顶形态（或者说乌云线形态，如图4.24所示）。</p>
<blockquote>
<p>图4.24 乌云盖顶形态</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/24.png">
<p>这种形态也是由两根蜡烛线组成的，属于顶部反转形态。它们一般出现在上升趋势之后，在有些情况下也可能出现在水平调整区间的顶部。在这一形态中，第一天是一根坚挺的白色实体；第二天的开市价超过了第一天的最高价（这就是说超过了第一天的上影线的顶端），但是，市场却收市在接近当日的最低价的水平，并且收市价明显地向下扎入到第一天白色实体的内部。第二天的黑色实体向下穿进第一天的白色实体的程度越深，则该形态构成顶部反转过程的可能性就越大。有些日本技术分析师要求，第二天黑色实体的收市价必须向下穿过前一天白色实体的50％。如果黑色实体的收市价没有向下穿过白色蜡烛线的中点，那么，当这类乌云盖顶形态发生后，或许我们最好等一等，看看是否还有进一步的看跌验证信号。</p>
<p>这种看跌形态背后的道理是很容易理解的。在形态发生之前，市场本来处于上升趋势之中。有一天，出现了一根坚挺的白色蜡烛线。第二天，市场在开市时便向上跳空。到此刻为止，牛方完全掌握着主动权。然而，此后，市场却没有继续上冲！事实上，市场收市在当日的最低价处，或者在最低价附近，并且这个收市价明显地向下扎进了前一天的实体内部。在这种情况下，多头头寸持有者的信心便开始动摇。还有一些人一直在找机会卖出做空，那么现在他们就得到了一个设置止损指令的参考水平——在乌云盖顶形态的第二日形成的新高价格水平。</p>
<p>下面列出了一些参考性因素，如果乌云盖顶形态具有这样的特征，则有助于增强其技术分量：</p>
<p>1、在乌云盖顶形态中，黑色实体的收市价向下穿入前一个白色实体的程度越深，则该形态构成市场顶部的机会越大。如果黑色实体覆盖了前一天的整个白色实体，那就形成了看跌吞没形态。在乌云盖顶形态中，黑色实体仅仅向下覆盖了白色实体的一部分。我们不妨把乌云盖顶形态比作日偏食，在这种情况下，月亮只遮住了太阳的一部分（换句话说，覆盖了部分白色实体）。那么，看跌吞没形态就成了日全食，在这种情况下，月亮遮住了太阳的全部（也就是说，覆盖了整个白色实体）。从这一点上说，作为顶部反转信号，看跌吞没形态比乌云盖顶形态具有更重要的技术意义。如果在乌云盖顶形态之后，或者在看跌吞没形态之后，出现了一根长长的白色实体，而且其收市价超过了这两种形态的最高价，那么这可能预示着新一轮上冲行情的到来。</p>
<p>2、乌云盖顶形态发生在一个超长期的上升趋势中，它的第一天是一根坚挺的白色实体，其开市价就是最低价（就是说，是秃脚的），而且其收市价就是最高价（就是说，是秃头的）；它的第二天是一根长长的黑色实体，其开市价位于最高价，而旦收市价位于最低价（这是一个秃头秃脚黑色蜡烛线）。</p>
<p>3、在乌云盖顶形态中，如果第二个实体（即黑色的实体）的开市价高于某个重要的阻挡水平，但是市场未能成功地坚守住，那么可能证明牛方已经无力控制市场了。</p>
<p>4、如果在第二天开市的时候，市场的交易量非常大，那么这里就可能发生胀爆现象。具体说来，当日开市价创出了新高，而且开市时的成交量极重，可能意味着很多新买家终于下决心入市，踏上了牛市的“船”。随后，市场却发生了抛售行情。那么，很可能用不了太久，这群人数众多的新多头（还有那些早已在上升趋势中坐了轿子的老多头）就会认识到，他们上的这条船原来是“泰坦尼克”号。对期货交易商来说，极高的持仓量也是一种警告信号。</p>
<p>图4.25显示了乌云盖顶形态与看跌吞没形态的区别。</p>
<blockquote>
<p>图4.25 市政债券——周蜡烛线图（乌云盖顶形态和看跌抱线形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/25.png">
<p>1989年6月，有两根蜡烛线组成了一个乌云盖顶形态。前一根具有长长的白色实体，后一根具有长长的黑色实体。黑色实体的开市价为当前这轮涨势创出了新高，但它的收市价则接近其最低价，并且显著地向下穿入了前一天的白色实体之中。本图例所示为市政债券市场，当这个顶部反转形态出现后，该市场就向下回落了。几个星期后，市场遭到了最后的致命一击，此时出现了一个看跌吞没形态。从本实例可以看到，在乌云盖顶形态中，黑色的实体仅仅覆盖了前一日白色实体的一部分。而在看跌吞没形态中，黑色实体则完全地覆盖了前一日的白色实体。</p>
<p>在图4.26中，可以看到3个乌云盖顶形态。这三个形态每一个都有其它的看跌信号对它们进行了验证。下面我们依次进行单独的研究。</p>
<blockquote>
<p>图4.26 原油——1990年7月，日蜡烛线图（乌云盖顶形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/26.png">
<p>1、乌云盖顶形态1。这是理想乌云盖顶形态的一种变体。在这个乌云盖顶形态中，第二天的黑色实体的开市价与前一日的最高价一致，而不是向上超过了它。本形态仅仅足以构成警告信号，但是，我们仍然应当把它视为一项负面因素。另一方面，这个乌云盖顶形态还标志着牛方曾经企图向上突破由2月中旬的最高点形成的阻挡水平，但是这个企图已经遭到了挫败。</p>
<p>2、乌云盖顶形态2。在这里，除了这个乌云盖顶形态以外，还有其它的理由说明21美元的价格水平值得我们留神。在技术分析中，有一条基本的定理：原先的支撑水平一旦被突破，则转化为新的阻挡水平。这正是在21美元处发生的情况。请注意，21美元原本是一个支撑水平，但是一旦在3月9日被向下突破后，就转化为阻挡水平了。这一例乌云盖顶形态发生在4月的头两个交易日，在此期间，市场曾有过上冲的尝试，但失败了，由此证明了该阻挡水平的存在（第十一章将要研究支撑水平与阻挡水平角色变换的问题）。</p>
<p>3、乌云盖顶形态3。这里也显示了一个市场向上挑战阻挡区的失败过程，该阻挡区是由4月下旬的最高价形成的。</p>
<p>在上面这些实例中，疲弱的乌云盖顶形态恰巧都与阻挡水平不谋而合。其实这中间的关系并不简单，它揭示出一个重要的概念，其意义不仅在于一种技术指标与另一种技术指标的相互验证，而且还有更深刻的内容。有关问题是本书第二部分的核心内容。届时我们将研究如何把蜡烛图技术与其它技术分析工具结合起来。</p>
<p>在图4.27中，3月上旬出现了乌云盖顶形态1，它中止了之前为时2个星期的上冲行情。随后，市场展开了1个星期的调整。4月份，又形成了另外两个乌云盖顶形态。乌云盖顶2显示，之前2天的急剧上升可能已告完成。乌云盖顶形态3发生在4月中旬，这个形态尤其疲弱。为什么这个乌云盖顶形态的结果会如此软弱呢？其中的缘由与本形态形成时市场的心理过程有关。</p>
<blockquote>
<p>图4.27 S&amp;P指数——1990年6月（乌云盖顶形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/27.png">
<p>正如过去所指出，乌云盖顶形态之所以具有负面意义，是因为以下基本原理：该形态第二根线的开市价本来已经创出了新高，但是在收市时，市场反而深深地向下穿入了前一个白色实体的内部。那么如果在某个乌云盖顶形态中，第二天的开市价不仅向上突破了前一天的最高价，同时还向上突破了数天之前的、数周之前的、甚而至于数月之前的最高价，然后当日再从这样的新高水平上失守下跌，后果会是什么样的呢？这样的局面将具有极其疲软的内涵。而这正是在本实例中4月里发生的情况。在乌云线形态3中，黑色的蜡烛线本来已经向上触及了至少过去3个月内的最高价格水平。但是，市场无力维持这样的高位，并且在收市时显著地返回到前一日的白色实体之内。</p>
<p>在图4.28中我们看到，自2月10日开始，市场一路上扬，但当2月中旬的乌云盖顶形态出现后，这段行情就截然而止了。</p>
<blockquote>
<p>图4.28 布里斯托尔公司——1990，日蜡烛线图</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/28.png">
<h1 id="刺透透态（斩回线形态）"><a href="#刺透透态（斩回线形态）" class="headerlink" title="刺透透态（斩回线形态）"></a><span style="color:#339AFF;">刺透透态（斩回线形态）</span></h1><p><a href="https://v.douyin.com/eL8sGDE/" target="_blank" rel="noopener">刺透形态</a><br><a href="https://v.douyin.com/eL8HsuT/" target="_blank" rel="noopener">刺透形态</a><br><a href="https://v.douyin.com/eL8uf3F/" target="_blank" rel="noopener">刺透形态</a><br><a href="https://v.douyin.com/eL8XHte/" target="_blank" rel="noopener">刺透形态</a><br><a href="https://v.ixigua.com/eL8HySf/" target="_blank" rel="noopener">刺透线和乌云盖顶形态</a></p>
<p>刺透形态（斩回线形态）是与乌云盖顶形态相反的形态。乌云盖顶形态属于顶部反转信号。那么，刺透形态作为它的反面形态，当然是底部反转信号（如图4.29所示）。</p>
<blockquote>
<p>图4.29 刺透形态（斩回线形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/29.png">
<p>斩回线形态出现在下跌的市场上，也是由两根蜡烛线组成的。其中第一根蜡烛线具有黑色实体，而第二根蜡烛线则具有长长的白色实体。在白色蜡烛线这一天，市场的开市价曾急剧地下跌至前一个黑色蜡烛线的最低价之下，但是不久市场又将价格推升回来，形成了一根相对较长的白色实体，并且其收市价已经向上超越了前一天的黑色实体的中点。</p>
<p>看涨的刺透形态与看涨吞没形态同属一个家族。在看涨吞没形态中，白色实体吞没了前面的那条黑色实体。而在看涨的刺透形态中，白色实体仅仅向上刺入了前一个黑色实体的内部。在刺透形态中，白色实体向上刺入黑色实体的程度越大，那么，该形态构成底部反转信号的可能性就越大。在理想的刺透形态中，白色实体必须向上穿入到前一个黑色实体的中点水平以上。在看涨吞没形态之后，或者在看涨的刺透形态之后，如果跟着出现了一条长长的黑色蜡烛线，并且它的收市价低于上述两种形态的最低点，则说明下降趋势已经卷土重来，新一轮下跌行情开始了。     </p>
<p>关于刺透形态背后的心理过程，可以作如下理解：市场本来处于下降趋势中，刺透形态第一天的疲弱的黑色实体加强了这种市场预期。第二天，市场以向下跳空的形式开市。到此刻为止，熊方观察着行情的发展，感觉诸事顺遂。可是后来，到当日收市的时候，市场却涨了回去，结果收市价不仅完全回到了前一天收市价的水平，而且变本加厉地向上大大超越了这个水平。现在，熊方开始对手上的空头头寸忐忑不安起来。有些市场参与者一直在寻找买进的机会，他们据此推断，市场不能够维持这个新低价位，或许这正是入市做多的大好时机。</p>
<p>关于刺透形态，也有四项参考性因素，如果刺透形态兼具这些特征，那么它们的技术分量将大为增强。这四项参考因素与乌云盖顶形态的四项参考因素内容相同，而方向相反（参见前一部分的有关内容）。在讲述乌云盖顶的时候，我曾经提到，虽然有些日本交易商更愿意看到黑色实体的收市价向下穿过了前一个白色实体的中点，但是在这一条判别准则上，还是有一定的灵活余地的。然而，在斩回线形态中，却没有任何灵活的余地。在斩回线形态中，白色蜡烛线的实体必须向上推进到黑色蜡烛线实体的中点之上。之所以看涨的刺透形态不如乌云盖顶形态灵活，是因为日本人认为处理底部反转形态必须更加谨慎。他们对形状近似的价格形态做了进一步的区分，将它们分为三种情况，分别称为待入线形态、切入线形态、插入线形态（参见图4.30到图4.32）。这三种形态虽然与刺透形态在基本构造上是相似的，但是，正是由于其中的白色实体向上穿入黑色实体的程度达不到黑色实体的中点，它们被看作是看跌的信号。</p>
<img src="/2021/01/17/第四章-反转形态/30.png">
<p>综上所达，上述三类潜在的看跌信号（如图4.30到图4.32所示）与看涨的斩回线形态（如图4.29所示）在图形上统统是一样的。它们之间的区别仅仅在于，其中的白色蜡烛线实体向上穿入黑色蜡烛线实体的程度是不同的。在待入线形态中，白色蜡烛线（其外形通常是比较小的）的收市价位于前一个蜡烛线的最低价下方附近。在切入线形态中，白色蜡烛线（它也应当是较小的白色蜡烛线）的收市价稍稍进入到前一个黑色实体的范围之内。在插入线形态中，白色蜡烛线比上述两个形态的更长一些，其收市价也更多地刺入前一个黑色实体之内，但是没有达到黑色实体中点的水平。本形态同前两个形态相比，稍稍坚挺一些。</p>
<p>在市场形成了上述三类形态的情况下，只要价格再次下跌到其中的白色蜡烛线的最低点以下，交易商就应当明白，卖出的好机会来了（请注意，图4.32所示的插入线形态如果处在下跌行情中，是看跌的，但是，如果它处在上升行情中，则应该视为看涨信号。另外，在下跌行情中，如果市场在数天之内接连形成了两个插入线形态，那么，这种情况也属于看涨信号）。</p>
<p>能不能将图4.30到4.32所示的每种形态都牢记于心，并不要紧。您只要记住，在斩回线形态中，白色蜡烛线的实体必须向上推进到黑色蜡烛线实体的中点以上，才能够构成底部反转信号。</p>
<p>如图4.33所示，4月27日，熊方成功地将市场打压到当前行情的新低水平，形成了一根长长的黑色实体。次日，市场以较低的价位开市，但是后来，这个开市价竟演化为当日的最低价，到收市时，图示波音公司的股票价格已经深深地向上穿进了前一日的黑色实体之内。于是，4月27日和28日的两根蜡烛线构成了一个看涨的刺透形态。</p>
<blockquote>
<p>图4.33 波音公司——1990年，日蜡烛图（刺透形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/33.png">
<p>在图4.34中，在3月26日所在的一个星期里，出现了一个经典的斩回线形态。请注意，在其中的白色实体之前，是一根非常疲软的长长的黑色实体。在白色蜡烛线当日，市场开市于当前行情的新低水平。但是，当日的收市价非常坚挺，深深地向上推进到前一个黑色实体的内部。这一事实有力地说明，熊方已经丧失了对市场的控制权。这根白色蜡烛线是一个极其坚挺的交易日。它开市于最低价（也就是说，它是秃脚的），收市于最高价（也就是说，它是秃头的）。请注意，这个坚挺的刺透形态终结了之前的那轮抛售行情。这段抛售行情是由3月19日和20日的看跌吞没形态引发的。</p>
<blockquote>
<p>图4.34 小麦——1990年5月，日蜡烛图（斩回线形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/34.png">
<p>本图例为小麦市场。在3月12日所在的那个星期里，产生了另一个变体的刺透形态。为什么说这个刺透形态是一个变体呢？因为其中的白色实体的开市价仅仅低于前一天的实体，但是没有低于前一天的最低点。尽管如此，由于该白色实体的收市价穿入了前一天黑色实体的5O％以上，本形态还是足以构成一个警告信号，说明先前的下跌行情已经是强弩之末。</p>
<p>图4.35表明，蜡烛图形态能够帮助分析者对市场的健康状况作出一个快速的诊断。在1990年2月后半个月里，曾经有位经纪商问我对燕麦市场怎么看。实际上，我很少留心燕麦市场。虽然如此，我还是调出了如图4.35所示的燕麦市场的蜡烛图，然后告诉他，当前的下降趋势可能已经结束了。为什么这么说呢？因为我注意到在2月20日所在的一周里，该市场出现了一个几乎堪称经典的刺透形态。另一方面我还发现，市场在形成上述刺透形态的同时，恰巧对2月上旬的低点进行了成功的试探。这种巧合，增加了市场完成双重底反转过程的机会。</p>
<blockquote>
<p>图4.35 燕麦——1990年7月，日蜡烛图（刺透形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/35.png">
<p>图4.36显示了一轮长达数年的下降趋势。该下降趋势始于1984年底的看跌吞没形态，终于1987年中的斩回线形态。尽管在这个底部反转信号出现后，市场并没有形成上冲行情，但是这个信号确实预示着卖方压力的消解。从1984年中起，至1987年中为止，这股卖方力量曾经驱使市场下跌不止。在这个刺透形态之后，市场稳定了一年，然后开始上涨。</p>
<blockquote>
<p>图4.36 现货日元汇率，月蜡烛图（刺透形态）</p>
</blockquote>
<img src="/2021/01/17/第四章-反转形态/36.png"><!-- flag of hidden posts -->
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/日本蜡烛图技术（第2版）/" rel="tag"># 日本蜡烛图技术（第2版）</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="CheBin">
            
              <p class="site-author-name" itemprop="name">CheBin</p>
              <div class="site-description motion-element" itemprop="description">看视频才能学会，看文字学不会的</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">1017</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">23</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">72</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          


          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <!-- modify icon to fire by szw -->
                <i class="fa fa-history fa-" aria-hidden="true"></i>
                近期文章
              </div>
              <ul class="links-of-blogroll-list">
                
                
                  <li>
                    <a href="/2023/04/04/结束语｜秒杀系统之上的业务协同思考/" title="结束语｜秒杀系统之上的业务协同思考" target="_blank">结束语｜秒杀系统之上的业务协同思考</a>
                  </li>
                
                  <li>
                    <a href="/2023/04/04/14｜百万级流量秒杀系统的关键总结/" title="14｜百万级流量秒杀系统的关键总结" target="_blank">14｜百万级流量秒杀系统的关键总结</a>
                  </li>
                
                  <li>
                    <a href="/2023/04/04/13｜优化番外篇：Vertx介绍及快速入门/" title="13｜优化番外篇：Vertx介绍及快速入门" target="_blank">13｜优化番外篇：Vertx介绍及快速入门</a>
                  </li>
                
                  <li>
                    <a href="/2023/04/04/12｜高性能优化：单机Java极致优化/" title="12｜高性能优化：单机Java极致优化" target="_blank">12｜高性能优化：单机Java极致优化</a>
                  </li>
                
                  <li>
                    <a href="/2023/04/04/11｜高性能优化：物理机极致优化/" title="11｜高性能优化：物理机极致优化" target="_blank">11｜高性能优化：物理机极致优化</a>
                  </li>
                
              </ul>
            </div>
        

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#锤子线和上吊线"><span class="nav-number">2.</span> <span class="nav-text">锤子线和上吊线</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#吞没形态（抱线形态）"><span class="nav-number">3.</span> <span class="nav-text">吞没形态（抱线形态）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#乌云盖顶形态（乌云线形态）"><span class="nav-number">4.</span> <span class="nav-text">乌云盖顶形态（乌云线形态）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#刺透透态（斩回线形态）"><span class="nav-number">5.</span> <span class="nav-text">刺透透态（斩回线形态）</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2023</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CheBin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">8.2m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">124:48</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
