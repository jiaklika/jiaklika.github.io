<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="思考并回答以下问题：  不仅要考虑供求变动对价格的影响，还要考虑价格变化对供求的反作用。怎么理解？ 商品供给量主要由期初库存量、本期产量和进口量等三部分组成。商品消费量通常由国内消费量、出口量和期末库存量等三部分组成。为什么？ 对于供求变化时间较长、大趋势持续时间较长的交易品种如股指、铜、铝、锌、螺纹钢、天然橡胶等，我们一般通过基本面分析选择交易方向，同时参考目前价格技术趋势、相关品种外盘走势；而">
<meta name="keywords" content="期货投资艺术">
<meta property="og:type" content="article">
<meta property="og:title" content="第3章 在矛盾中选择-期货投资如何选择交易方向">
<meta property="og:url" content="http://yoursite.com/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/index.html">
<meta property="og:site_name" content="车斌的技术博客">
<meta property="og:description" content="思考并回答以下问题：  不仅要考虑供求变动对价格的影响，还要考虑价格变化对供求的反作用。怎么理解？ 商品供给量主要由期初库存量、本期产量和进口量等三部分组成。商品消费量通常由国内消费量、出口量和期末库存量等三部分组成。为什么？ 对于供求变化时间较长、大趋势持续时间较长的交易品种如股指、铜、铝、锌、螺纹钢、天然橡胶等，我们一般通过基本面分析选择交易方向，同时参考目前价格技术趋势、相关品种外盘走势；而">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/供求关系.png">
<meta property="og:image" content="http://yoursite.com/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/1.png">
<meta property="og:image" content="http://yoursite.com/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/2.png">
<meta property="og:updated_time" content="2021-11-05T08:28:00.434Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第3章 在矛盾中选择-期货投资如何选择交易方向">
<meta name="twitter:description" content="思考并回答以下问题：  不仅要考虑供求变动对价格的影响，还要考虑价格变化对供求的反作用。怎么理解？ 商品供给量主要由期初库存量、本期产量和进口量等三部分组成。商品消费量通常由国内消费量、出口量和期末库存量等三部分组成。为什么？ 对于供求变化时间较长、大趋势持续时间较长的交易品种如股指、铜、铝、锌、螺纹钢、天然橡胶等，我们一般通过基本面分析选择交易方向，同时参考目前价格技术趋势、相关品种外盘走势；而">
<meta name="twitter:image" content="http://yoursite.com/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/供求关系.png">






  <link rel="canonical" href="http://yoursite.com/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>第3章 在矛盾中选择-期货投资如何选择交易方向 | 车斌的技术博客</title><meta name="robots" content="noindex">
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">车斌的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">放弃会成为一种习惯</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CheBin">
      <meta itemprop="description" content="看视频才能学会，看文字学不会的">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="车斌的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">第3章 在矛盾中选择-期货投资如何选择交易方向

              
            
          </h1>
        

        <div class="post-meta">

          

          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2021-01-28 21:36:44" itemprop="dateCreated datePublished" datetime="2021-01-28T21:36:44+08:00">2021-01-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2021-11-05 16:28:00" itemprop="dateModified" datetime="2021-11-05T16:28:00+08:00">2021-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/期货/" itemprop="url" rel="index"><span itemprop="name">期货</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">8.6k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">8 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>思考并回答以下问题：</p>
<ul>
<li>不仅要考虑供求变动对价格的影响，还要考虑价格变化对供求的反作用。怎么理解？</li>
<li>商品供给量主要由期初库存量、本期产量和进口量等三部分组成。商品消费量通常由国内消费量、出口量和期末库存量等三部分组成。为什么？</li>
<li>对于供求变化时间较长、大趋势持续时间较长的交易品种如股指、铜、铝、锌、螺纹钢、天然橡胶等，我们一般通过基本面分析选择交易方向，同时参考目前价格技术趋势、相关品种外盘走势；而对于像大豆、豆油、玉米、白糖、棉花等品种，由于其供求变化时间较短，影响其价格变化的因素比较短暂和复杂，趋势持续时间不长，则主要通过目前价格技术趋势来选择交易方向，同时参考其基本面、相关品种外盘走势。怎么理解？</li>
<li>供求关系并非简单的产量（供应）与消费量（需求）之间的关系，而是包括投机需求和投机供应在内的更为广义的供求关系。怎么理解？为什么供应更宽松，价格反而上涨了呢？</li>
<li>为什么很多最懂得基本面的现货商做期货失败了？目前的基本面（供求关系）并不等于未来的基本面。怎么理解？</li>
</ul>
<a id="more"></a>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a><span style="color:#339AFF;">前言</span></h1><p>进行期货交易的第一步是选择交易方向，而且只有交易方向正确才能赢利，否则就有可能亏损，然而，期货价格是不断变化的，方向正确与否也是相对的。原本正确的选择随着价格波动方向的变化有可能变成不正确的，浮盈变成了浮亏。</p>
<p>另外，由于期货价格变化的不确定性，交易方向的选择错误是经常性的和不可避免的，无论投资者采用何种方法，都不能大幅提高赢利的可能性，更不能保证次次正确。</p>
<p>因此，每一次交易方向的选择都是在矛盾中的选择，既可能赢利，也可能亏损。</p>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a><span style="color:#339AFF;">正文</span></h1><p>事实上，对于许多期货投资者来说，选择交易方向似乎并非那么左右为难，仿佛每一个投资者在选择交易方向时都信心十足，甚至有的投资者根本就不考虑万一选择的方向是错误的该如何操作。这除了因为投资者在选择交易方向时旁观者清，心态比较好以外，还有一个非常重要的原因就是他们认为自己能够较为准确地判断期货价格的变化趋势。期货投资的特点告诉我们期货价格的变化具有很大的不确定性，我们无法准确进行判断，但又并非像布朗运动毫无规律可言，利用基本面和技术分析等工具在一定程度上是可以进行预测的。</p>
<p>进行期货投资，首先要做的事情就是决定自己的交易方向，交易方向选择得好，投资赢利的可能性就大，这是实现一定时期内赢利次数尽可能大于亏损次数的根本保障，同时也有利于平均赢利幅度的提高，平均亏损幅度的降低。所以选择好交易方向是期货投资迈向成功的第一步。</p>
<p>正是由于期货投资的方向性特点，几乎所有的期货投资者都会对此引起足够的重视，想方设法地收集和了解各种基本面信息，学习和掌握各种技术分析方法，而且由于开仓时没有盈亏概念的干扰，就像是低空走独木桥一样，投资者一般都能保持良好的操作心态。每一个期货投资者都可以充分利用自己的优势条件，通过分析和判断来选择交易方向，比如有的人对某一品种的基本面了解非常详细，有的人则非常擅长技术分析，有的人可以利用自己长期的总结和丰富的交易经验。</p>
<p>在实际操作时，我们可以通过基本面分析、价格变化技术趋势、相关品种外盘走势来选择交易方向，并根据不同交易品种的走势特点而有所侧重，对于供求变化时间较长、大趋势持续时间较长的交易品种如股指、铜、铝、锌、螺纹钢、天然橡胶等，我们一般通过基本面分析选择交易方向，同时参考目前价格技术趋势、相关品种外盘走势；而对于像大豆、豆油、玉米、白糖、棉花等品种，由于其供求变化时间较短，影响其价格变化的因素比较短暂和复杂，趋势持续时间不长，则主要通过目前价格技术趋势来选择交易方向，同时参考其基本面、相关品种外盘走势。</p>
<p>在选择交易方向时，虽然分析和预测的方法很多，但基本上可划分为基本因素分析和技术分析两种，无论运用哪种方法都只能在一定程度上提高赢利的可能性，而且非常有限，更无法确保赢利。</p>
<h1 id="基本分析及注意事项"><a href="#基本分析及注意事项" class="headerlink" title="基本分析及注意事项"></a><span style="color:#339AFF;">基本分析及注意事项</span></h1><p>基本因素分析法是通过分析期货商品的供求状况及其影响因素，来解释和预测期货价格变化趋势的方法。</p>
<p>期货交易是以现货交易为基础的。期货价格与现货价格之间有着十分紧密的联系。商品供求状况及影响其供求的众多因素对现货市场商品价格产生重要影响，因而也必然会对期货价格产生重要影响。所以，通过分析商品供求状况及其影响因素的变化，可以帮助期货交易者预测和把握商品期货价格变化的基本趋势。</p>
<p><span style="color:red">基本因素分析法主要分析的就是供求关系。商品供求状况的变化与价格的变动是互相影响和互相制约的。</span>商品价格与供给成反比，供给增加，价格下降，供给减少，价格上升；商品价格与需求成正比，需求增加，价格上升，需求减少，价格下降。在其他因素不变的条件下，供给和需求的任何变化，都可能影响商品价格变化，一方面，商品价格的变化受供给和需求变动的影响；另一方面，商品价格的变化又反过来对供给和需求产生影响，即价格上升，供给增加，需求减少；价格下降，供给减少，需求增加。这种供求与价格互相影响、互为因果的关系，使商品供求分析更加复杂，即不仅要考虑供求变动对价格的影响，还要考虑价格变化对供求的反作用。</p>
<p>期货商品供给分析主要考察本期商品供给量的构成及其变化。本期商品供给量主要由期初库存量、本期产量和进口量等三部分组成。</p>
<p>商品市场的需求量是指在一定时间、地点和价格条件下买方愿意购买并有能力购买的某种商品数量。它通常由国内消费量、出口量和期末库存量等三部分组成。</p>
<p>在实际操作时，很难对上述供求关系进行准确的定量分析，因为不太可能获得所有真实的供求数据，比如大豆，我们不可能把所有大豆的产量情况了解清楚，尤其是生长期，我们只能通过往年的亩产和种植面积来推知当年的产量，用主要生产国和主要消费国的情况来预测全球的供求状况，因此，只能通过其他方式对供求关系做定性或相对的定量分析。比如用交易所库存的变化来推知现货的供求状况，用宏观经济的波动周期来分析某些工业品的供求关系。</p>
<p>商品市场波动通常与经济波动周期紧密相关。期货价格也不例外。由于期货市场是与国际市场紧密相连的开放市场，因此，期货市场价格波动不仅受国内经济波动周期的影响，而且还受世界经济的景气状况影响。</p>
<p>经济周期一般由复苏、繁荣、衰退和萧条四个阶段构成。复苏阶段开始时是前一周期的最低点，产出和价格均处于最低水平。随着经济的复苏，生产恢复、需求增长，价格也开始逐步回升。繁荣阶段是经济周期的高峰阶段，由于投资需求和消费需求的不断扩张超过了产出的增长，刺激价格迅速上涨到较高水平。衰退阶段出现在经济周期高峰过去后，经济开始滑坡，由于需求的萎缩，供给大大超过需求，价格迅速下跌。萧条阶段是经济周期的谷底，供给和需求均处于较低水平，价格停止下跌，维持在低水平上。在整个经济周期演化过程中，价格波动略滞后于经济波动。</p>
<p>这些是经济周期四个阶段的一般特征。但是，不同国家、不同时期的经济周期可能具有自己不同的特点。比如，在20世纪60年代以前，西方国家经济周期的特点是产出和价格的同向大幅波动。而70年代初期，西方国家先后进入所谓的“滞胀”时期，经济大幅度衰退，价格却仍然猛烈上涨，经济的停滞与严重的通货膨胀并存。而八九十年代以来的经济波动幅度大大缩小，并且价格总水平只涨不跌，衰退和萧条期下降的只是价格上涨速度而非价格的绝对水平。当然，<span style="color:red">这种只涨不跌是指价格总水平而非所有的具体商品价格，具体商品价格仍然是有升有降的。</span>进入90年代中期以后，一些新兴市场经济体，如韩国、东南亚地区等，受到金融危机的冲击，导致一些商品的国际市场价格大幅下滑。但是，全球经济并没有陷入全面的危机之中，欧美国家经济持续向好。因此，认真观测和分析经济周期的阶段和特点，对于正确地把握期货市场价格走势具有重要意义。</p>
<p>经济周期阶段可由一些主要经济指标值的高低来判断，如GDP增长率、失业率、价格指数、汇率等。这些都是期货交易者应密切注意的。</p>
<p>商品期货交易与金融货币市场有着紧密的联系。利率的高低、汇率的变动都直接影响商品期货价格变动。</p>
<p>利率调整是政府紧缩或扩张经济的宏观调控手段。利率的变化对金融衍生品交易影响较大，而对商品期货的影响较小。</p>
<p>期货市场是一种开放性市场，期货价格与国际市场商品价格紧密相连。国际市场商品价格必然涉及各国货币的交换比值——汇率，汇率是本国货币与外国货币交换的比率。当本币贬值时，即使外国商品价格不变，但以本国货币表示的外国商品价格将上升，反之则下降，因此，汇率的高低变化必然影响相应的期货价格变化。</p>
<p>期货市场价格对国际国内政治气候及相关政策的变化十分敏感。政治因素主要指国际国内政治局势、国际性政治事件的爆发及由此引起的国际关系格局的变化、各种国际性经贸组织的建立及有关商贸协议的达成、政府对经济干预所采取的各种政策和措施等。这些因素都将会引起期货市场价格的波动。</p>
<p>在分析政治因素对期货价格的影响时，应注意不同的商品所受影响程度是不同的。如国际局势紧张时，对战略性物资价格的影响就比对其他商品的影响大。</p>
<h2 id="为什么供应更宽松，价格反而上涨了呢"><a href="#为什么供应更宽松，价格反而上涨了呢" class="headerlink" title="为什么供应更宽松，价格反而上涨了呢"></a><span style="color:#00ACC1;">为什么供应更宽松，价格反而上涨了呢</span></h2><p>关于供求关系，有一点需要特别强调的是，供求关系并非简单的产量（供应）与消费量（需求）之间的关系，而是包括投机需求和投机供应在内的更为广义的供求关系，只要是市场经济，投机需求和投机供应就不可避免，投机需求和投机供应就像是入水口（供应）与出水口（需求）之间的“蓄水池”一样，且其“蓄水能力”和“蓄水量”取决于很多因素，比如货币供应量等。当价格看涨时，消费商、贸易商甚至生产商都有可能增加该商品库存，导致投机需求增加，即使实际供求没有变化，价格也可能上涨；而当价格看跌时，这部分投机需求又转变成投机供应，生产商、贸易商、消费商都会尽量减少库存，导致投机供应增加，即使实际供求没有变化，价格也可能下跌。用经济学的原理来解释就是供求曲线发生了位移，有没有期货市场，这种投机需求和投机供应都是存在的。许多人对所谓的“不合理”价格现象往往无法理解，很大程度上都是因为他们的供求关系概念是狭义的。</p>
<img src="/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/供求关系.png">
<p>狭义的供求关系：</p>
<center>供应 = 实际供应（产量）</center>
<center>需求 = 实际消费量</center>

<p>广义的供求关系：</p>
<center>供应 = 实际供应（产量） + 投机供应（现货投机、期货投机供应）</center>
<center>需求 = 实际消费量 + 投机需求（现货投机、期货投机需求）</center>

<p><br>虽然投机需求和投机供应量占实际供求量的比例有可能很小，但对价格的影响有时却非常巨大，比如某一商品供应短缺10%，但其价格有可能因此上涨一倍甚至几倍，而非10%；同样，供应过剩10%，价格有可能因此下跌一半甚至更多。这样我们就能理解为什么货更多，价格反而上涨了，比如2003年铜的现货比2011年时更紧张，LME库存最低时只有3万多吨，铜价不到2000美元/吨，而2011年LME库存近50万吨，铜价却高达8000美元/吨左右，除了货币贬值外，还有一个重要因素就是投机需求增加了。有了广义供求关系的概念，我们就能理解为什么短期内（比如一天）实际供求关系没有大的变化，价格却发生了大的波动，也能理解为什么实际供求关系与价格之间没有一一对应的关系。</p>
<ul>
<li>为什么短期内（比如一天）实际供求关系没有大的变化，价格却发生了大的波动？为什么实际供求关系与价格之间没有一一对应的关系？</li>
<li>即使你对基本面非常了解，当价格走势对你不利时，也要进行止损，不要因为自己对基本面充满信心而死扛。从付晓军的悲剧中可以得到这一点吗？</li>
</ul>
<h2 id="进行基本面分析应该注意的事项"><a href="#进行基本面分析应该注意的事项" class="headerlink" title="进行基本面分析应该注意的事项"></a><span style="color:#00ACC1;">进行基本面分析应该注意的事项</span></h2><p>通过基本面分析来选择交易方向应注意如下几点。</p>
<p>（1）供求关系并非简单的实际产量和实际消费量之间的关系，还应该包括投机供应和投机需求。</p>
<p>（2）目前的基本面（供求关系）并不等于未来的基本面，基本面是变化的，期货交易的是未来的商品价格，因此，进行基本面分析时，不仅要考虑目前的供求情况和价格，还要考虑其未来的变化趋势。许多从事某一商品现货生产和经营的期货投资者做该商品的期货，理论上，他们最了解该商品的基本面，有较大优势，但事实上，他们在一开始往往赔钱，因为他们常常把现货的基本面当成期货的基本面，把期货当成现货来做。</p>
<p>（3）由于影响期货价格变化的因素错综复杂，既有基本面因素，也有其他因素，如技术因素、投资者心理、偶尔的大户操纵等，所以期货价格走势不一定与我们所了解的所谓“真实”基本面一致，即供求关系与商品价格之间并不存在一一对应关系，有时供应宽松时的价格可能比供应紧张时更高，反之亦然。更何况我们对基本面的了解也不一定是正确的。</p>
<p>（4）由于影响基本面的因素错综复杂，所以任何人都不可能对该商品未来真实的基本面了如指掌。</p>
<p>（5）由于上述各种原因，投资者在利用基本面信息对期货价格走势进行分析和预测（进行基本分析）并以此为依据进行交易时，只能提高赢利的可能性，而且有限，并不能确保赢利，因此，<span style="color:red">即使你对基本面非常了解，当价格走势对你不利时，也要进行止损，不要因为自己对基本面充满信心而死扛。</span></p>
<p>（6）在进行基本分析时，对不同的期货品种，其所起作用大小也不相同。对于那些与宏观经济关系密切，供求关系变化周期长，行业参与程度高的品种，如股指、铜、铝、天然橡胶等，基本面显得尤为重要。而对于那些供求关系变化周期短的交易品种，如大豆、白糖、棉花等，技术面因素可能更重要。</p>
<p>（7）为提高赢利的可能性，在选择交易方向时，期货投资者除了基本分析之外，还应该同时结合其他因素如技术分析等。</p>
<h1 id="技术分析及注意事项"><a href="#技术分析及注意事项" class="headerlink" title="技术分析及注意事项"></a><span style="color:#339AFF;">技术分析及注意事项</span></h1><p>技术分析是进行期货价格走势分析的重要方法之一，是指通过现在和历史的期货价格走势情况来预测其未来的价格走势。</p>
<p>技术分析的理论基础是基于三个合理的假设：市场行为包容消化一切；价格以趋势方式演变；历史会重演。</p>
<p>（1）市场行为包容消化一切。技术分析者认为，任何能够影响某种商品期货价格的因素——基础的、政治的、心理的或任何其他方面的——实际上都反映在其价格变化之中。既然如此，研究价格就够了。</p>
<p>（2）价格以趋势方式演变。“趋势”概念是技术分析的核心。研究价格图表的全部意义，就是要在一个趋势发生发展的早期，及时准确地把它揭示出来，从而达到顺应趋势交易的目的。事实上，技术分析在本质上就是顺应趋势，即以判定和追随既成趋势为目的的。从“价格以趋势方式演变”可以自然而然地推断，对于一个既成的趋势来说，下一步常常沿着现存趋势方向继续演变，而掉头反向的可能性要小得多。这当然也是牛顿惯性定律的应用。还可以换个说法：当前趋势将一直持续到掉头反向为止。虽然这句话差不多是同语反复，但这里要强调的是：坚定不移地顺应一个既成趋势，直至有反向的征兆为止。</p>
<p>（3）历史会重演。技术分析和市场行为学与人类心理学有着千丝万缕的联系。比如价格形态，它们通过一些特定的价格图形表现出来，而这些图形表示了人们对某市场看好或看淡的心理。我们可以通过过去价格走势规律来预测其未来的走势。</p>
<p>技术分析的主要要素是价格、成交量和持仓量，对于这三个因素及其变化规律的分析产生了各种各样的技术分析方法。技术分析方法很多，市面上有关技术分析的书籍也是琳琅满目，其中由地震出版社出版发行的美国人约翰·墨菲所写的《期货市场技术分析》一书内容比较全面。由于本书主要讨论的是期货操作理念和技巧，在这里就不对各种技术分析进行一一介绍了。</p>
<p>那么如何通过技术分析来选择交易方向呢？</p>
<p>由于不同的投资者交易经验和操作习惯不同，所偏好的技术分析手段和指标也不一样。有的投资者喜欢用移动平均线来判断价格趋势，有的习惯用通道理论，而我个人一般是根据收盘时日K线图中价格是否上破前期高点（而不是历史高点，即阻力位）或下破前期低点（而不是历史低点，即支撑位）来判定目前技术走势是涨势还是跌势，并由此决定自己的交易方向。如图3-1所示，图中A-B之间为跌势，B-C之间为涨势，C-D之间又为跌势。</p>
<blockquote>
<p>图3-1 目前技术趋势判定示意图</p>
</blockquote>
<img src="/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/1.png">
<p>如果单纯依靠技术趋势来选择交易方向，那么图3-1中，A-B段和C-D段就做空，B-C段就做多。</p>
<p>图3-2为LME三个月期货铜价格技术趋势判定实例。A-B之间，价格技术趋势是跌势，交易方向就是做空；B-C之间，价格技术趋势是涨势，交易方向就是做多；C-D之间，价格技术趋势又变为跌势，交易方向就是做空；D之后，价格技术趋势又变为涨势，交易方向就是做多。</p>
<blockquote>
<p>图3-2 LME三个月期货铜目前技术趋势判定实例图</p>
</blockquote>
<img src="/2021/01/28/第3章-在矛盾中选择-期货投资如何选择交易方向/2.png">
<p><strong>进行技术分析应注意的事项</strong></p>
<p>（1）技术分析的三个前提是有其局限性的。“市场行为包容消化一切”，目前及其以前的市场行为只能包容消化目前及以前的一切，而不能包容消化未来的一切，而期货交易的恰恰是未来。“价格以趋势方式演变”也不错，但趋势有大小之分，在大趋势中往往含有许多小趋势，在大涨势中往往含有许多小跌势，在大跌势中往往含有许多小涨势，是大涨势中的向下调整还是大势反转要大跌，是大跌势中的向上反弹还是大势反转要大涨，往往要等到走完了才能最后确定，所以“顺应趋势”说起来容易做起来难。“历史会重演”，但不是简单的重复，虽然历史往往有许多惊人的相似之处，但由于条件发生了变化，期货的价格走势规律也会有所变化。</p>
<p>（2）每种技术分析方法都有其缺点。如移动平均线的滞后和不同交易日的权重问题，波浪理论的定性与定量问题。技术分析方法起源于股票市场，把它应用于具有不同走势特点的期货市场，显然也要打折扣。</p>
<p>（3）由于技术分析方法本身的局限性，运用任何技术分析方法都只能提高赢利的可能性，而且非常有限，更不能确保赢利，因此，对于任何技术分析方法我们都不要过于迷信。</p>
<p>（4）在运用某种技术分析方法时，最好要懂得该技术分析方法产生的原理或统计学规律，对于前人和他人得出的结论要通过自己实践验证后才能放心地使用，要在操作实践中总结适合自己的技术分析方法。不要把技术分析方法看得高深莫测，更不要人为地把它们复杂化，有时越简单的方法可能越管用。</p>
<p>（5）技术分析应该与基本面分析结合起来使用。对于那些生产周期短，基本面不确定因素多的品种，技术分析有较高的预测成功率。但是，在运用技术分析的同时，如果能同时结合基本面分析，则有利于进一步提高投资赢利的可能性。</p>
<h1 id="基本面分析与技术分析的关系"><a href="#基本面分析与技术分析的关系" class="headerlink" title="基本面分析与技术分析的关系"></a><span style="color:#339AFF;">基本面分析与技术分析的关系</span></h1><p>在选择交易方向上，基本面分析和技术分析各有其优缺点，基本面分析相对主观，但具有超前性和预见性。绝大部分技术分析指标都有滞后性，而且经常发生变化，但相对客观。通过基本面分析和技术分析来判定交易方向，有时候方向一致，有时候却不完全一致，甚至完全相反，在这些情况下，我们又该如何来选择交易方向呢？</p>
<p>基本面分析与技术分析一致时，比较好选择，此时投入的资金量（单量）可以相对大些；基本面分析结果不好确定时，可以仅根据技术面来选择交易方向，但单量应相对小一些；当基本面与技术面分析结果完全相反时，可以作壁上观，离场观望，也可以根据基本面或技术面进行少量交易，但入市点的选择应更加谨慎，止损幅度也相对小一些，对于供求变化时间较长、大趋势持续时间较长的交易品种，如股指、铜、铝、锌、螺纹钢、天然橡胶等，我们一般通过基本面分析选择交易方向，但入市点应该选择在支撑位（如果做多）或阻力位（如果做空）；而对于像大豆、玉米、白糖、棉花这样供求变化时间较短、大趋势持续时间不长的交易品种则主要通过目前价格技术趋势来选择交易方向。</p>
<p>在实际交易过程中，我们还会遇到这样的情形，比如我们对某一期货合约从基本面分析认为要跌，而技术分析上价格一直在涨，上涨幅度还挺大，但不久之后，价格又跌了回来，跌的比涨的还多，有的投资者会因此后悔自己当初做空时不应该止损，而应该增加空头头寸，我认为这样的想法是错误和非常危险的，因为期货价格变化本身就具有较大的不确定性，价格跌下来是事先无法确认的，即使可以确认，如果资金管理不好，保证金不够，也可能会被强制平仓，牺牲在黎明前的黑暗里而等不到价格下跌。这就是所谓的“过早看对等于看错”。</p>
<h1 id="本章关键内容提示"><a href="#本章关键内容提示" class="headerlink" title="本章关键内容提示"></a><span style="color:#339AFF;">本章关键内容提示</span></h1><p>由于期货价格变化的不确定性，交易方向的选择错误是经常性的和不可避免的，无论投资者采用何种方法，都不能大幅提高赢利的可能性，更不能保证次次正确。</p>
<p>期货投资者一般通过基本面分析和技术分析或两者结合的方式来选择交易方向。</p>
<p>基本面分析并非简单的供应关系分析，供求关系并非简单的产量（供应）与消费量（需求）之间的关系，而是包括投机需求和投机供应在内的更为广义的供求关系。</p>
<p>不同的投资者可能通过不同的技术指标来选择交易方向，我个人一般是根据收盘时日K线图中价格是否上破前期高点（而不是历史高点，即阻力位）或下破前期低点（而不是历史低点，即支撑位）来判定目前技术走势是涨势还是联势，并由此决定自己的交易方向。</p>
<p>对于那些与宏观经济密切，供求关系变化周期长，行业参与程度高的品种，如股指、铜、铝、天然橡胶等，基本面显得尤为重要。而对于那些供求关系变化周期短的交易品种，如大豆、白糖、棉花等，技术面因素可能更重要。</p>
<p>在选择交易方向上，基本面分析和技术分析各有其优缺点，基本面分析相对主观，但具有超前性和预见性。绝大部分技术分析指标都有滞后性，而且经常发生变化，但相对客观。</p>
<p>基本面分析与技术分析一致时，比较好选择，此时投入的资金量（单量）可以相对大些；基本面分析结果不好确定时，可以仅根据技术面来选择交易方向，但单量应相对小一些；当基本面与技术面分析结果完全相反时，可以作壁上观，离场观望，也可以根据基本面或技术面进行少量交易，但入市市点的选择应更加谨慎，止损幅度也相对小一些。</p>
<!-- flag of hidden posts -->
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/期货投资艺术/" rel="tag"># 期货投资艺术</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="CheBin">
            
              <p class="site-author-name" itemprop="name">CheBin</p>
              <div class="site-description motion-element" itemprop="description">看视频才能学会，看文字学不会的</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">1140</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">27</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">79</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          


          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <!-- modify icon to fire by szw -->
                <i class="fa fa-history fa-" aria-hidden="true"></i>
                近期文章
              </div>
              <ul class="links-of-blogroll-list">
                
                
                  <li>
                    <a href="/2023/07/19/zero-admin-3/" title="zero-admin-3" target="_blank">zero-admin-3</a>
                  </li>
                
                  <li>
                    <a href="/2023/07/19/zero-admin-2/" title="zero-admin-2" target="_blank">zero-admin-2</a>
                  </li>
                
                  <li>
                    <a href="/2023/07/19/zero-admin-1/" title="zero-admin-1" target="_blank">zero-admin-1</a>
                  </li>
                
                  <li>
                    <a href="/2023/07/19/Day7-服务发现与注册中心/" title="Day7 服务发现与注册中心" target="_blank">Day7 服务发现与注册中心</a>
                  </li>
                
                  <li>
                    <a href="/2023/07/19/Day6-负载均衡/" title="Day6 负载均衡" target="_blank">Day6 负载均衡</a>
                  </li>
                
              </ul>
            </div>
        

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#正文"><span class="nav-number">2.</span> <span class="nav-text">正文</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基本分析及注意事项"><span class="nav-number">3.</span> <span class="nav-text">基本分析及注意事项</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#为什么供应更宽松，价格反而上涨了呢"><span class="nav-number">3.1.</span> <span class="nav-text">为什么供应更宽松，价格反而上涨了呢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进行基本面分析应该注意的事项"><span class="nav-number">3.2.</span> <span class="nav-text">进行基本面分析应该注意的事项</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#技术分析及注意事项"><span class="nav-number">4.</span> <span class="nav-text">技术分析及注意事项</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基本面分析与技术分析的关系"><span class="nav-number">5.</span> <span class="nav-text">基本面分析与技术分析的关系</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#本章关键内容提示"><span class="nav-number">6.</span> <span class="nav-text">本章关键内容提示</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2023</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CheBin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">8.9m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">135:21</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
